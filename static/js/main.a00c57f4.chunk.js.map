{"version":3,"sources":["services/firebase.ts","services/loginService.ts","components/Navbar/Navbar.tsx","services/ascensionService.ts","hooks/useAsyncRequest.ts","services/dictionaryService.ts","components/Answers/Answers.tsx","components/LetterCard/LetterCard.tsx","components/Scramble/Scramble.tsx","hooks/useTimer.ts","hooks/useInterval.ts","components/Timer/Timer.tsx","hooks/useEventEmitter.ts","components/Question/Question.tsx","components/Quiz/Quiz.tsx","components/AscensionQuiz/AscensionQuiz.tsx","containers/NetworkedAscensionQuiz/NetworkedAscensionQuiz.tsx","pages/AscensionQuizPage/AscensionQuizPage.tsx","components/CardboxSummary/CardboxSummary.tsx","components/CardboxList/CardboxList.tsx","services/cardboxService.ts","containers/NetworkedCardboxList/NetworkedCardboxList.tsx","pages/CardboxListPage/CardboxListPage.tsx","components/CardboxQuiz/CardboxQuiz.tsx","containers/NetworkedCardboxQuiz/NetworkedCardboxQuiz.tsx","pages/CardboxQuizPage/CardboxQuizPage.tsx","components/EditCardbox/EditCardbox.tsx","containers/NetworkedEditCardbox/NetworkedEditCardbox.tsx","pages/EditCardboxPage/EditCardboxPage.tsx","components/CreateCardbox/CreateCardbox.tsx","containers/NetworkedCreateCardbox/NetworkedCreateCardbox.tsx","pages/CreateCardboxPage/CreateCardboxPage.tsx","components/QuickEdit/QuickEdit.tsx","containers/NetworkedQuickEdit/NetworkedQuickEdit.tsx","pages/QuickEditPage/QuickEditPage.tsx","components/Login/Login.tsx","containers/NetworkedLogin/NetworkedLogin.tsx","pages/LoginPage/LoginPage.tsx","app/App.tsx","serviceWorker.ts","index.tsx"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","appId","login","email","password","auth","signInWithEmailAndPassword","Navbar","className","to","getAscension","firestore","runTransaction","transaction","startNewCycle","waitingConundrums","shuffle","conundrums","map","c","join","set","doc","waiting","solved","unsolved","get","then","exists","data","length","ascension","items","arr","idx","jdx","Math","floor","random","useAsyncRequest","request","useState","undefined","result","setResult","error","setError","inProgress","setInProgress","isComplete","setIsComplete","doRequest","catch","isInDictionary","word","indexInDictionary","wordsBeginningWith","index","words","aptodict","startsWith","push","lo","hi","mid","Answers","answers","ans","key","slice","w","LetterCard","letter","Scramble","scramble","char","useTimer","seconds","emitter","timeRemaining","setTimeRemaining","isRunning","setIsRunning","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useInterval","time","max","emit","startTimer","stopTimer","progressBarStyle","remaining","duration","width","Timer","eventEmitter","on","style","Emitter","callbacks","event","this","forEach","cb","Question","onQuestionEnded","questionActive","setQuestionActive","setSolved","timerEmitter","containerRef","focus","startQuestion","answerQuestion","response","endQuestion","ref","tabIndex","onKeyPress","e","toUpperCase","onClick","newScramble","question","randomScramble","letters","lettersArr","Quiz","_questions","questions","recycle","setQuestions","questionIdx","setQuestionIdx","keyFromScramble","sort","AscensionQuiz","onQuestionAnswered","quizQuestions","con","split","lookupMap","Object","assign","NetworkedAscensionQuiz","conundrum","update","fb","FieldValue","arrayRemove","arrayUnion","recordConundrumAsSolved","recordConundrumAsUnsolved","AscensionQuizPage","CardboxSummary","name","size","hasQuestionsDue","CardboxList","cardboxes","cardbox","getCardbox","collection","setDuration","setOffset","offset","addWords","wordsByKey","groupWordsByKey","dueDate","Date","setDate","getDate","Promise","all","keys","cardboxRef","docRef","existingAnswers","some","includes","dedup","due","Timestamp","fromDate","increment","asked","answeredCorrectly","level","getDueTimestamp","getHours","setHours","Set","groups","getNewDueDate","newLevel","timeNow","now","daysToAdd","pow","min","nanoseconds","NetworkedCardboxList","querySnapshot","docs","where","limit","empty","CardboxListPage","CardboxQuiz","NetworkedCardboxQuiz","cardboxResult","filter","q","getDueQuestions","questionsResult","correct","newDueDate","newAsked","newAnsweredCorrectly","CardboxQuizPage","match","params","EditCardbox","_duration","_offset","onChangesSaved","setWords","onSubmit","preventDefault","type","required","value","onChange","target","NetworkedEditCardbox","afterChangesSaved","EditCardboxPage","isRedirecting","setIsRedirecting","CreateCardbox","onCreate","setName","NetworkedCreateCardbox","afterCreate","createCardbox","CreateCardboxPage","QuickEdit","actions","action","finally","performAction","addToHighProb","wordsInCardbox","wordsToAdd","highprob","ws","has","flatMap","addToHighProb9","highprob9","addTo5Vowels","fiveVowels","NetworkedQuickEdit","QuickEditPage","Login","doLogin","setEmail","setPassword","isLoggedIn","setIsLoggedIn","NetworkedLogin","LoginPage","App","basename","Routes","withRouter","loggedIn","currentUser","path","component","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.a00c57f4.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nconst config = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n};\r\n\r\nexport default firebase.initializeApp(config);\r\n","import firebase from './firebase';\r\n\r\nexport const login = (email: string, password: string) =>\r\n    firebase.auth().signInWithEmailAndPassword(email, password);\r\n\r\nexport const isLoggedIn = () => !!firebase.auth().currentUser;\r\n","import React from 'react';\r\nimport './Navbar.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Navbar: React.FC = () => {\r\n    return (\r\n        <div className=\"navbar\">\r\n            <Link className=\"navbar__link\" to=\"/\">Home</Link>\r\n            <Link className=\"navbar__link\" to=\"/ascension\">Ascension</Link>\r\n            <Link className=\"navbar__link\" to=\"/quick-edit\">Quick Edit</Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;\r\n","import firebase from './firebase';\r\nimport fb from 'firebase/app';\r\n\r\nimport conundrums from '../data/single_cons.json';\r\n\r\nexport interface Ascension {\r\n    waiting: string[];\r\n    solved: string[];\r\n    unsolved: string[];\r\n}\r\n\r\nexport const getAscension = (): Promise<Ascension> => {\r\n\r\n    return firebase.firestore().runTransaction(transaction => {\r\n\r\n        const startNewCycle = () => {\r\n            const waitingConundrums = shuffle(conundrums.map(c => c.join(',')));\r\n            transaction.set(firebase.firestore().doc('ascension/ascension'), {\r\n                waiting: waitingConundrums,\r\n                solved: [],\r\n                unsolved: []\r\n            });\r\n        };\r\n\r\n        const continueCurrentCycle = (ascension: Ascension) => {\r\n            transaction.set(firebase.firestore().doc('ascension/ascension'), {\r\n                waiting: ascension.unsolved,\r\n                solved: ascension.solved,\r\n                unsolved: []\r\n            });\r\n        }\r\n\r\n        return transaction.get(firebase.firestore().doc('ascension/ascension')).then(doc => {\r\n            if (!doc.exists) {\r\n                startNewCycle();\r\n            } else {\r\n                const data = doc.data() as Ascension;\r\n                if (data.waiting.length === 0) {\r\n                    if (data.unsolved.length > 0) {\r\n                        continueCurrentCycle(data);\r\n                    } else {\r\n                        startNewCycle();\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    })\r\n    .then(() => firebase.firestore().doc('ascension/ascension').get())\r\n    .then(doc => doc.data() as Ascension)\r\n}\r\n\r\nexport const recordConundrumAsSolved = (conundrum: string): Promise<void> => {\r\n    return firebase.firestore().doc('ascension/ascension').update({\r\n        waiting: fb.firestore.FieldValue.arrayRemove(conundrum),\r\n        solved: fb.firestore.FieldValue.arrayUnion(conundrum)\r\n    });\r\n}\r\n\r\nexport const recordConundrumAsUnsolved = (conundrum: string): Promise<void> => {\r\n    return firebase.firestore().doc('ascension/ascension').update({\r\n        waiting: fb.firestore.FieldValue.arrayRemove(conundrum),\r\n        unsolved: fb.firestore.FieldValue.arrayUnion(conundrum)\r\n    });\r\n}\r\n\r\nconst shuffle = <T extends any>(items: T[]): T[] => {\r\n    const arr = [...items];\r\n    for (let idx = arr.length - 1; idx > 0; idx -= 1) {\r\n        const jdx = Math.floor(Math.random() * (idx + 1));\r\n        [arr[idx], arr[jdx]] = [arr[jdx], arr[idx]];\r\n    }\r\n    return arr;\r\n}\r\n","import { useState } from 'react';\r\n\r\nexport type AsyncRequest<T, R, E> = {\r\n    doRequest: (data: T) => Promise<void>,\r\n    result: R | undefined,\r\n    error: E | boolean | undefined,\r\n    inProgress: boolean,\r\n    isComplete: boolean,\r\n};\r\n\r\nconst useAsyncRequest = <T, R, E> (request: (data: T) => Promise<R>): AsyncRequest<T, R, E> => {\r\n\r\n    const [result, setResult] = useState<R | undefined>(undefined);\r\n    const [error, setError] = useState<E | boolean | undefined>(undefined);\r\n    const [inProgress, setInProgress] = useState(false);\r\n    const [isComplete, setIsComplete] = useState(false);\r\n\r\n    const doRequest = (data: T) => {\r\n        setInProgress(true); setIsComplete(false); setResult(undefined); setError(undefined);\r\n        return request(data)\r\n            .then(result => {\r\n                setResult(result);\r\n                setInProgress(false);\r\n                setIsComplete(true);\r\n            })\r\n            .catch((error: E) => {\r\n                setError(error === undefined ? true : error);\r\n                setInProgress(false);\r\n            });\r\n    };\r\n\r\n    return { doRequest, result, error, inProgress, isComplete }\r\n}\r\n\r\nexport default useAsyncRequest;\r\n","import aptodict from '../data/aptodict.json';\r\n\r\nexport const isInDictionary = (word: string): boolean =>\r\n    indexInDictionary(word) !== -1;\r\n\r\nexport const suffixes = (word: string): string[] =>\r\n    wordsBeginningWith(word).slice(1).map(w => w.slice(word.length))\r\n\r\nconst wordsBeginningWith = (word: string): string[] => {\r\n    let index = indexInDictionary(word);\r\n    if (index === -1) { return []; }\r\n\r\n    const words = [];\r\n    while (aptodict[index].startsWith(word)) {\r\n        words.push(aptodict[index]);\r\n        if (++index === aptodict.length) break;\r\n    }\r\n\r\n    return words;\r\n}\r\n\r\nconst indexInDictionary = (word: string): number => {\r\n    let lo = 0;\r\n    let hi = aptodict.length - 1;\r\n\r\n    while (lo !== hi) {\r\n        let mid = Math.floor((lo + hi - 1) / 2);\r\n        if (aptodict[mid] === word) { return mid; }\r\n        else if (aptodict[mid] > word) { hi = mid; }\r\n        else { lo = mid + 1; }\r\n    }\r\n\r\n    return aptodict[lo] === word ? lo : -1;\r\n}","import React from 'react';\r\nimport { suffixes } from '../../services/dictionaryService';\r\nimport './Answers.css';\r\n\r\nexport interface AnswersProps {\r\n    answers: string[];\r\n}\r\n\r\nconst Answers: React.FC<AnswersProps> = ({ answers }) => {\r\n    return (\r\n        <div className=\"answers\">\r\n            <ul className=\"answers__list\">\r\n                {answers.map((ans, idx) =>\r\n                    <li key={idx} className=\"answers__answer\">{ans} ({suffixes(ans).join('/')})</li>\r\n                )}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Answers;\r\n","import React from 'react';\r\nimport './LetterCard.css';\r\n\r\nexport interface LetterCardProps {\r\n    letter: string;\r\n}\r\n\r\nconst LetterCard: React.FC<LetterCardProps> = ({ letter }) => {\r\n    return (\r\n        <div className=\"letter-card\">{letter}</div>\r\n    );\r\n};\r\n\r\nexport default LetterCard;\r\n","import React from 'react';\r\nimport './Scramble.css';\r\n\r\nimport LetterCard from '../LetterCard/LetterCard';\r\n\r\nexport interface ScrambleProps {\r\n    scramble: string;\r\n}\r\n\r\nconst Scramble: React.FC<ScrambleProps> = ({ scramble }) => {\r\n    return (\r\n        <div className=\"scramble\">\r\n            {[...scramble].map((char, idx) =>\r\n                <LetterCard key={idx} letter={char}></LetterCard>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Scramble;\r\n","import { useState } from 'react';\r\nimport { Emitter } from './useEventEmitter';\r\n\r\nimport useInterval from './useInterval';\r\n\r\nexport default function useTimer(seconds: number, emitter: Emitter<void>) {\r\n\r\n    const [timeRemaining, setTimeRemaining] = useState(seconds);\r\n    const [isRunning, setIsRunning] = useState(false);\r\n\r\n    useInterval(() => {\r\n        if (timeRemaining > 0) {\r\n            setTimeRemaining(time => Math.max(0, time - 0.03));\r\n        } else {\r\n            setIsRunning(false);\r\n            emitter.emit('expire');\r\n        }\r\n    }, isRunning ? 30 : null);\r\n\r\n    const startTimer = () => {\r\n        setTimeRemaining(seconds);\r\n        setIsRunning(true);\r\n    };\r\n\r\n    const stopTimer = () => {\r\n        setIsRunning(false);\r\n    };\r\n\r\n    return { startTimer, stopTimer, timeRemaining };\r\n}\r\n","import { useEffect, useRef } from 'react';\r\n\r\nexport default function useInterval(callback: () => void, delay: number | null) {\r\n\r\n    const savedCallback = useRef<() => void>();\r\n\r\n    useEffect(() => {\r\n        savedCallback.current = callback;\r\n    }, [callback]);\r\n\r\n    useEffect(() => {\r\n        if (delay !== null) {\r\n            let id = setInterval(() => savedCallback.current && savedCallback.current(), delay);\r\n            return () => clearInterval(id);\r\n        }\r\n    }, [delay]);\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport './Timer.css';\r\n\r\nimport useTimer from '../../hooks/useTimer';\r\nimport { Emitter } from '../../hooks/useEventEmitter';\r\n\r\nexport interface TimerProps {\r\n    seconds: number;\r\n    eventEmitter: Emitter<void>;\r\n}\r\n\r\nconst Timer: React.FC<TimerProps> = ({ seconds, eventEmitter }) => {\r\n\r\n    const { startTimer, stopTimer, timeRemaining } = useTimer(seconds, eventEmitter);\r\n    useEffect(() => eventEmitter.on('start', () => startTimer()), []);\r\n    useEffect(() => eventEmitter.on('stop', () => stopTimer()), []);\r\n\r\n    return (\r\n        <div className=\"timer\">\r\n            <div className=\"timer__progress\" style={progressBarStyle(timeRemaining, seconds)}></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst progressBarStyle = (remaining: number, duration: number) => ({\r\n    width: `${100 * remaining / duration}%`\r\n});\r\n\r\nexport default Timer;\r\n","import { useState } from 'react';\r\n\r\nexport class Emitter<T> {\r\n\r\n    private callbacks: {[s: string]: ((_: T) => void)[]} = {};\r\n\r\n    public emit(event: string, data: T): void {\r\n        this.callbacks[event] && this.callbacks[event].forEach(cb => cb(data));\r\n    }\r\n\r\n    public on(event: string, cb: (_: T) => void) {\r\n        if (!this.callbacks[event]) this.callbacks[event] = [];\r\n        this.callbacks[event].push(cb);\r\n    }\r\n}\r\n\r\nexport default function useEventEmitter<T>() {\r\n    const eventEmitter = useState(new Emitter<T>())[0];\r\n    return eventEmitter;\r\n}\r\n","import React, { useEffect, useState, useRef, KeyboardEvent } from 'react';\r\nimport './Question.css';\r\n\r\nimport Answers from '../Answers/Answers';\r\nimport Scramble from '../Scramble/Scramble';\r\nimport Timer from '../Timer/Timer';\r\n\r\nimport useEventEmitter from '../../hooks/useEventEmitter';\r\n\r\nexport interface QuestionProps {\r\n    idx: number;\r\n    scramble: string;\r\n    answers: string[];\r\n    duration: number;\r\n    onQuestionEnded: (solved: boolean) => void;\r\n}\r\n\r\nconst Question: React.FC<QuestionProps> = ({ idx, scramble, answers, duration, onQuestionEnded }) => {\r\n\r\n    const [questionActive, setQuestionActive] = useState(true);\r\n    const [solved, setSolved] = useState(true);\r\n    const timerEmitter = useEventEmitter<void>();\r\n\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    useEffect(() => {\r\n        containerRef.current && containerRef.current.focus();\r\n    });\r\n\r\n    useEffect(() => startQuestion(), [idx]);\r\n    useEffect(() => timerEmitter.on('expire', () => answerQuestion(false)), []);\r\n\r\n    const startQuestion = () => {\r\n        setQuestionActive(true);\r\n        timerEmitter.emit('start');\r\n    };\r\n\r\n    const answerQuestion = (response: boolean) => {\r\n        setQuestionActive(false);\r\n        setSolved(response);\r\n        timerEmitter.emit('stop');\r\n    };\r\n\r\n    const endQuestion = () => {\r\n        setQuestionActive(true);\r\n        onQuestionEnded(solved);\r\n    }\r\n\r\n    const handleKeyPress = (e: KeyboardEvent) => {\r\n        if (questionActive && e.key.toUpperCase() === ' ') answerQuestion(true);\r\n        else if (questionActive && e.key.toUpperCase() === 'M') answerQuestion(false);\r\n        else if (!questionActive && e.key.toUpperCase() === 'M') setSolved(!solved);\r\n        else if (!questionActive && e.key.toUpperCase() === ' ') endQuestion();\r\n    };\r\n\r\n    return (\r\n        <div className=\"question\" ref={containerRef} tabIndex={-1} onKeyPress={handleKeyPress}>\r\n            <div className=\"question__scramble-and-timer\">\r\n                <Scramble scramble={scramble}></Scramble>\r\n                <Timer seconds={duration} eventEmitter={timerEmitter}></Timer>\r\n            </div>\r\n            {questionActive && <div className=\"question__response\">\r\n                <button className=\"question__response-button question__response-button--solved\" onClick={() => answerQuestion(true)}>Solved</button>\r\n                <button className=\"question__response-button question__response-button--missed\" onClick={() => answerQuestion(false)}>Missed</button>\r\n            </div>}\r\n            {!questionActive && <div className=\"question__results\">\r\n                <Answers answers={answers}></Answers>\r\n                <div className=\"question__confirm\">\r\n                    <button className={'question__response-button question__response-button--' + (solved ? 'solved' : 'missed')} onClick={() => setSolved(!solved)}>{solved ? 'Solved' : 'Missed'}</button>\r\n                    <button className=\"question__response-button\" onClick={() => endQuestion()}>Next question</button>\r\n                </div>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Question;\r\n","import React, { useState } from 'react';\r\nimport './Quiz.css';\r\n\r\nimport Question from '../Question/Question';\r\n\r\nexport interface QuizQuestion {\r\n    scramble: string;\r\n    answers: string[];\r\n}\r\n\r\nexport interface QuizProps {\r\n    questions: QuizQuestion[];\r\n    duration: number;\r\n    recycle: boolean;\r\n    onQuestionEnded: (scramble: string, solved: boolean) => void;\r\n}\r\n\r\nconst Quiz: React.FC<QuizProps> = ({ questions: _questions, duration, recycle, onQuestionEnded }) => {\r\n\r\n    const [questions, setQuestions] = useState(_questions);\r\n    const [questionIdx, setQuestionIdx] = useState(0);\r\n\r\n    const endQuestion = (solved: boolean) => {\r\n        onQuestionEnded(questions[questionIdx].scramble, solved);\r\n        if (!solved && recycle) setQuestions([...questions, newScramble(questions[questionIdx])]);\r\n        setQuestionIdx(idx => idx + 1);\r\n    };\r\n\r\n    return (\r\n        <div className=\"quiz\">\r\n            {questionIdx >= questions.length && <div className=\"quiz__ended\">\r\n                No more questions!\r\n            </div>}\r\n            {questionIdx < questions.length && <div className=\"quiz__question\">\r\n                <div className=\"quiz__heading\">Question {questionIdx + 1} of {questions.length}</div>\r\n                <Question idx={questionIdx} scramble={questions[questionIdx].scramble} answers={questions[questionIdx].answers} duration={duration} onQuestionEnded={endQuestion}></Question>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst newScramble = (question: QuizQuestion) => ({\r\n    ...question,\r\n    scramble: randomScramble(question.scramble)\r\n});\r\n\r\nconst randomScramble = (letters: string) => {\r\n    const lettersArr = [...letters];\r\n    for (let idx = lettersArr.length - 1; idx > 0; idx -= 1) {\r\n        const jdx = Math.floor(Math.random() * (idx + 1));\r\n        [lettersArr[idx], lettersArr[jdx]] = [lettersArr[jdx], lettersArr[idx]];\r\n    }\r\n    return lettersArr.join('');\r\n};\r\n\r\nexport default Quiz;\r\n","import React from 'react';\r\n\r\nimport conundrums from '../../data/single_cons.json';\r\n\r\nimport Quiz from '../Quiz/Quiz';\r\nimport { Ascension } from '../../services/ascensionService';\r\n\r\nexport interface AscensionQuizProps {\r\n    ascension: Ascension;\r\n    duration: number;\r\n    onQuestionAnswered: (conundrum: string, solved: boolean) => void;\r\n}\r\n\r\nconst AscensionQuiz: React.FC<AscensionQuizProps> = ({ ascension, duration, onQuestionAnswered }) => {\r\n\r\n    const quizQuestions = shuffle(ascension.waiting.map(con => ({\r\n        scramble: randomScramble(con.split(',')[0]),\r\n        answers: con.split(',')\r\n    })));\r\n\r\n    const lookupMap = Object.assign({}, ...conundrums.map(con => ({ [keyFromScramble(con[0])]: con.join(',') })));\r\n\r\n    return (\r\n        <Quiz questions={quizQuestions} duration={duration} recycle={false} onQuestionEnded={(scramble, solved) => onQuestionAnswered(lookupMap[keyFromScramble(scramble)], solved)}></Quiz>\r\n    );\r\n};\r\n\r\nconst shuffle = <T extends any>(items: T[]): T[] => {\r\n    const arr = [...items];\r\n    for (let idx = arr.length - 1; idx > 0; idx -= 1) {\r\n        const jdx = Math.floor(Math.random() * (idx + 1));\r\n        [arr[idx], arr[jdx]] = [arr[jdx], arr[idx]];\r\n    }\r\n    return arr;\r\n}\r\n\r\nconst randomScramble = (letters: string) => {\r\n    return shuffle([...letters]).join('');\r\n};\r\n\r\nconst keyFromScramble = (scramble: string) => [...scramble].sort().join('');\r\n\r\nexport default AscensionQuiz;\r\n","import React from 'react';\r\n\r\nimport { getAscension, recordConundrumAsSolved, recordConundrumAsUnsolved } from '../../services/ascensionService';\r\nimport useAsyncRequest from '../../hooks/useAsyncRequest';\r\n\r\nimport AscensionQuiz from '../../components/AscensionQuiz/AscensionQuiz';\r\n\r\nconst NetworkedAscensionQuiz: React.FC = () => {\r\n\r\n    const { doRequest, result, error, inProgress } = useAsyncRequest(() =>\r\n        getAscension()\r\n    );\r\n\r\n    if (!inProgress && error === undefined && result === undefined) {\r\n        doRequest(1);\r\n    }\r\n\r\n    if (result === undefined) { return <div></div>; }\r\n\r\n    const answerQuestion = (conundrum: string, solved: boolean) => {\r\n        if (solved) recordConundrumAsSolved(conundrum);\r\n        else recordConundrumAsUnsolved(conundrum);\r\n    }\r\n\r\n    return (\r\n        <AscensionQuiz duration={5} ascension={result} onQuestionAnswered={answerQuestion}></AscensionQuiz>\r\n    );\r\n};\r\n\r\nexport default NetworkedAscensionQuiz;\r\n","import React from 'react';\r\n\r\nimport NetworkedAscensionQuiz from '../../containers/NetworkedAscensionQuiz/NetworkedAscensionQuiz';\r\n\r\nconst AscensionQuizPage: React.FC = () => {\r\n    return (\r\n        <NetworkedAscensionQuiz></NetworkedAscensionQuiz>\r\n    );\r\n};\r\n\r\nexport default AscensionQuizPage;\r\n","import React from 'react';\r\nimport './CardboxSummary.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport interface CardboxSummaryProps {\r\n    name: string;\r\n    size: number;\r\n    hasQuestionsDue: boolean;\r\n}\r\n\r\nconst CardboxSummary: React.FC<CardboxSummaryProps> = ({ name, size, hasQuestionsDue }) => {\r\n    return (\r\n        <div className=\"cardbox-summary\">\r\n            <div className=\"cardbox-summary__name\">{name} ({size})</div>\r\n            <div className={'cardbox-summary__status cardbox-summary__status--' + (hasQuestionsDue ? 'due' : 'stale')}>{hasQuestionsDue ? 'Questions Due' : 'No Questions Due'}</div>\r\n            <div className=\"cardbox-summary__actions\">\r\n                <Link className=\"cardbox-summary__action\" to={`/edit/${name}`}>Edit</Link>\r\n                <Link className=\"cardbox-summary__action\" to={`/learn/${name}`}>Learn</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CardboxSummary;\r\n","import React from 'react';\r\nimport './CardboxList.css';\r\n\r\nimport CardboxSummary from '../CardboxSummary/CardboxSummary';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport interface CardboxListProps {\r\n    cardboxes: {name: string, size: number, hasQuestionsDue: boolean}[];\r\n}\r\n\r\nconst CardboxList: React.FC<CardboxListProps> = ({ cardboxes }) => {\r\n    return (\r\n        <div className=\"cardbox-list\">\r\n            {cardboxes.map((cardbox, idx) =>\r\n                <CardboxSummary {...cardbox} key={idx}></CardboxSummary>\r\n            )}\r\n            <Link to=\"/create\" className=\"cardbox-list__fake-summary\">\r\n                <div className=\"cardbox-list__plus-line--vertical\"></div>\r\n                <div className=\"cardbox-list__plus-line--horizontal\"></div>\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CardboxList;\r\n","import firebase from './firebase';\r\nimport fb from 'firebase/app';\r\nimport { isInDictionary } from './dictionaryService';\r\n\r\nexport interface Cardbox {\r\n    name: string;\r\n    size: number;\r\n    duration: number;\r\n    offset: number;\r\n    words: string[];\r\n}\r\n\r\nexport interface Question {\r\n    letters: string;\r\n    answers: string[];\r\n    asked: number;\r\n    answeredCorrectly: number;\r\n    level: number;\r\n    due: Date;\r\n}\r\n\r\nexport const getCardbox = (cardbox: string): Promise<Cardbox> => \r\n    firebase.firestore().collection('cardboxes').doc(cardbox).get().then(doc => ({\r\n        ...doc.data(),\r\n        name: doc.id\r\n    } as Cardbox));\r\n\r\nexport const getCardboxes = (): Promise<Cardbox[]> =>\r\n    firebase.firestore().collection('cardboxes').get().then(querySnapshot =>\r\n        querySnapshot.docs.map(doc => ({\r\n            ...doc.data(),\r\n            name: doc.id\r\n        } as Cardbox))\r\n    );\r\n\r\nexport const hasQuestionsDue = (cardbox: string, offset: number): Promise<boolean> =>\r\n    firebase.firestore().collection('cardboxes').doc(cardbox).collection('questions')\r\n        .where('due', '<=', getDueTimestamp(offset)).limit(1).get().then(querySnapshot =>\r\n            !querySnapshot.empty\r\n        )\r\n\r\nexport const getDueQuestions = (cardbox: string, offset: number): Promise<Question[]> =>\r\n    firebase.firestore().collection('cardboxes').doc(cardbox).collection('questions')\r\n        .where('due', '<=', getDueTimestamp(offset)).get().then(querySnapshot =>\r\n            querySnapshot.docs.map(doc => ({\r\n                ...doc.data(), \r\n                answers: doc.data().answers.filter(isInDictionary), \r\n                letters: doc.id\r\n            } as Question))\r\n        .filter(q => q.answers.length > 0))\r\n\r\nexport const createCardbox = (name: string, duration: number): Promise<void> => {\r\n    const docRef = firebase.firestore().collection('cardboxes').doc(name);\r\n    return firebase.firestore().runTransaction(transaction =>\r\n        transaction.get(docRef).then(doc => {\r\n            if (!doc.exists) {\r\n                transaction.set(docRef, { size: 0, duration: duration, offset: 0, words: [] });\r\n            }\r\n        })\r\n    );\r\n}\r\n\r\nexport const setDuration = (cardbox: string, duration: number): Promise<void> => {\r\n    return firebase.firestore().collection('cardboxes').doc(cardbox).update({ duration: duration });\r\n}\r\n\r\nexport const setOffset = (cardbox: string, offset: number): Promise<void> => {\r\n    return firebase.firestore().collection('cardboxes').doc(cardbox).update({ offset: offset });\r\n}\r\n\r\nexport const addWords = (cardbox: string, offset: number, words: string[]): Promise<void[]> => {\r\n    const wordsByKey = groupWordsByKey(words);\r\n    const dueDate = new Date();\r\n    dueDate.setDate(dueDate.getDate() - offset);\r\n    return Promise.all(Object.keys(wordsByKey).map(key =>\r\n        firebase.firestore().runTransaction(transaction => {\r\n            const cardboxRef = firebase.firestore().collection('cardboxes').doc(cardbox);\r\n            const docRef = firebase.firestore().collection('cardboxes').doc(cardbox).collection('questions').doc(key);\r\n            return transaction.get(docRef).then(doc => {\r\n                if (!doc.exists) {\r\n                    transaction.update(cardboxRef, { size: fb.firestore.FieldValue.increment(1), words: fb.firestore.FieldValue.arrayUnion(...wordsByKey[key])});\r\n                    transaction.set(docRef, { answers: wordsByKey[key], asked: 0, answeredCorrectly: 0, level: 0, due: fb.firestore.Timestamp.fromDate(dueDate) });\r\n                } else {\r\n                    const existingAnswers = (doc.data() as Question).answers;\r\n                    if (wordsByKey[key].some(ans => !existingAnswers.includes(ans))) {\r\n                        transaction.update(cardboxRef, { words: fb.firestore.FieldValue.arrayUnion(wordsByKey[key])});\r\n                        transaction.update(docRef, { answers: dedup([...existingAnswers, ...wordsByKey[key]]), due: fb.firestore.Timestamp.fromDate(dueDate) });\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    ));\r\n}\r\n\r\nexport const answerQuestion = (cardbox: string, offset: number, letters: string, correct: boolean) => {\r\n    const docRef = firebase.firestore().collection('cardboxes').doc(cardbox).collection('questions').doc(letters);\r\n    return firebase.firestore().runTransaction(transaction =>\r\n        transaction.get(docRef).then(doc => {\r\n            const data = doc.data() as Question;\r\n            const newLevel = correct ? data.level + 1 : 0;\r\n            const newDueDate = getNewDueDate(newLevel, offset);\r\n            const newAsked = data.asked + 1;\r\n            const newAnsweredCorrectly = correct ? data.answeredCorrectly + 1 : data.answeredCorrectly;\r\n            transaction.update(docRef, { level: newLevel, due: newDueDate, asked: newAsked, answeredCorrectly: newAnsweredCorrectly });\r\n        })\r\n    );\r\n}\r\n\r\nconst getDueTimestamp = (offset: number) => {\r\n    const dueDate = new Date();\r\n    if (dueDate.getHours() >= 5) dueDate.setDate(dueDate.getDate() + 1);\r\n    dueDate.setDate(dueDate.getDate() - offset);\r\n    dueDate.setHours(5, 0, 0, 0);\r\n    return fb.firestore.Timestamp.fromDate(dueDate);\r\n}\r\n\r\nconst dedup = (words: string[]): string[] => [...new Set(words)].sort();\r\n\r\nconst groupWordsByKey = (words: string[]): {[key: string]: string[]} => {\r\n    const groups: {[key: string]: string[]} = {};\r\n    words.forEach(word => {\r\n        const key = [...word].sort().join('');\r\n        if (groups[key] === undefined) groups[key] = [];\r\n        groups[key].push(word);\r\n    });\r\n    return groups;\r\n};\r\n\r\nconst getNewDueDate = (newLevel: number, offset: number) => {\r\n    const timeNow = fb.firestore.Timestamp.now();\r\n    const secondsInDay = 60 * 60 * 24;\r\n    const daysToAdd = newLevel === 0 ? 0 : Math.pow(2, Math.min(newLevel, 9) - 1);\r\n    return new fb.firestore.Timestamp(timeNow.seconds + secondsInDay * (daysToAdd - offset), timeNow.nanoseconds);\r\n};\r\n","import React from 'react';\r\n\r\nimport CardboxList, { CardboxListProps } from '../../components/CardboxList/CardboxList';\r\nimport useAsyncRequest from '../../hooks/useAsyncRequest';\r\nimport { getCardboxes, hasQuestionsDue } from '../../services/cardboxService';\r\n\r\nconst NetworkedCardboxList: React.FC = () => {\r\n\r\n    const { doRequest, result, error, inProgress } = useAsyncRequest<void, CardboxListProps['cardboxes'], undefined>(() =>\r\n        getCardboxes().then(cardboxes => Promise.all(cardboxes.map(cardbox =>\r\n            hasQuestionsDue(cardbox.name, cardbox.offset).then(due => ({ name: cardbox.name, size: cardbox.size, hasQuestionsDue: due}))\r\n        )))\r\n    );\r\n\r\n    if (!inProgress && error === undefined && result === undefined) {\r\n        doRequest();\r\n    }\r\n\r\n    if (result === undefined) { return <div></div>; }\r\n\r\n    return <CardboxList cardboxes={result}></CardboxList>\r\n}\r\n\r\nexport default NetworkedCardboxList;\r\n","import React from 'react';\r\n\r\nimport NetworkedCardboxList from '../../containers/NetworkedCardboxList/NetworkedCardboxList';\r\n\r\nconst CardboxListPage: React.FC = () => {\r\n    return (\r\n        <NetworkedCardboxList></NetworkedCardboxList>\r\n    );\r\n};\r\n\r\nexport default CardboxListPage;\r\n","import React from 'react';\r\n\r\nimport { Question } from '../../services/cardboxService';\r\nimport Quiz from '../Quiz/Quiz';\r\n\r\nexport interface CardboxQuizProps {\r\n    questions: Question[];\r\n    duration: number;\r\n    onQuestionAnswered: (letters: string, solved: boolean) => void;\r\n}\r\n\r\nconst CardboxQuiz: React.FC<CardboxQuizProps> = ({ questions, duration, onQuestionAnswered }) => {\r\n\r\n    const quizQuestions = shuffle(questions.map(question => ({\r\n        scramble: randomScramble(question.letters),\r\n        answers: question.answers\r\n    })));\r\n\r\n    return (\r\n        <Quiz questions={quizQuestions} duration={duration} recycle={true} onQuestionEnded={(scramble, solved) => onQuestionAnswered(keyFromScramble(scramble), solved)}></Quiz>\r\n    );\r\n};\r\n\r\nconst shuffle = <T extends any>(items: T[]): T[] => {\r\n    const arr = [...items];\r\n    for (let idx = arr.length - 1; idx > 0; idx -= 1) {\r\n        const jdx = Math.floor(Math.random() * (idx + 1));\r\n        [arr[idx], arr[jdx]] = [arr[jdx], arr[idx]];\r\n    }\r\n    return arr;\r\n}\r\n\r\nconst randomScramble = (letters: string) => {\r\n    return shuffle([...letters]).join('');\r\n};\r\n\r\nconst keyFromScramble = (scramble: string) => [...scramble].sort().join('');\r\n\r\nexport default CardboxQuiz;\r\n","import React from 'react';\r\n\r\nimport { getDueQuestions, getCardbox, answerQuestion } from '../../services/cardboxService';\r\nimport useAsyncRequest from '../../hooks/useAsyncRequest';\r\n\r\nimport CardboxQuiz from '../../components/CardboxQuiz/CardboxQuiz';\r\n\r\nexport interface NetworkedCardboxQuizProps {\r\n    cardbox: string;\r\n}\r\n\r\nconst NetworkedCardboxQuiz: React.FC<NetworkedCardboxQuizProps> = ({ cardbox }) => {\r\n\r\n    const { doRequest, result, error, inProgress } = useAsyncRequest((cardbox: string) => \r\n        getCardbox(cardbox).then(cardboxResult => getDueQuestions(cardbox, cardboxResult.offset).then(questionsResult => ({\r\n            cardbox: cardboxResult,\r\n            questions: questionsResult,\r\n        })))\r\n    )\r\n\r\n    if (!inProgress && error === undefined && result === undefined) {\r\n        doRequest(cardbox);\r\n    }\r\n\r\n    if (result === undefined) { return <div></div>; }\r\n\r\n    return <CardboxQuiz duration={result.cardbox.duration} questions={result.questions} onQuestionAnswered={(letters, solved) => answerQuestion(result.cardbox.name, result.cardbox.offset, letters, solved)}></CardboxQuiz>;\r\n};\r\n\r\nexport default NetworkedCardboxQuiz;\r\n","import React from 'react';\r\n\r\nimport { match } from 'react-router-dom';\r\nimport NetworkedCardboxQuiz from '../../containers/NetworkedCardboxQuiz/NetworkedCardboxQuiz';\r\n\r\nexport interface CardboxQuizPageParams {\r\n    cardbox: string;\r\n}\r\n\r\nexport interface CardboxQuizPageProps {\r\n    match: match<CardboxQuizPageParams>;\r\n}\r\n\r\nconst CardboxQuizPage: React.FC<CardboxQuizPageProps> = ({ match }) => {\r\n    return (\r\n        <NetworkedCardboxQuiz cardbox={match.params.cardbox}></NetworkedCardboxQuiz>\r\n    );\r\n};\r\n\r\nexport default CardboxQuizPage;\r\n","import React, { useState, FormEvent } from 'react';\r\nimport './EditCardbox.css';\r\n\r\nexport interface EditCardboxProps {\r\n    cardbox: string;\r\n    duration: number;\r\n    offset: number;\r\n    onChangesSaved: (duration: number, offset: number, words: string[]) => void;\r\n}\r\n\r\nconst EditCardbox: React.FC<EditCardboxProps> = ({ cardbox, duration: _duration, offset: _offset, onChangesSaved }) => {\r\n\r\n    const [duration, setDuration] = useState(_duration);\r\n    const [offset, setOffset] = useState(_offset);\r\n    const [words, setWords] = useState('');\r\n\r\n    const handleSubmit = (e: FormEvent) => {\r\n        e.preventDefault();\r\n        onChangesSaved(duration, offset, words.split(/\\s+/).filter(w => w.length > 0));\r\n    }\r\n\r\n    return (\r\n        <div className=\"edit-cardbox\">\r\n            <div className=\"edit-cardbox__title\">Edit {cardbox}</div>\r\n            <form className=\"edit-cardbox__form\" onSubmit={handleSubmit}>\r\n                <label className=\"edit-cardbox__form-field\">\r\n                    Duration\r\n                    <input className=\"edit-cardbox__form-input\" type=\"number\" required value={duration} onChange={e => setDuration(+e.target.value)}></input>\r\n                </label>\r\n                <label className=\"edit-cardbox__form-field\">\r\n                    Offset\r\n                    <input className=\"edit-cardbox__form-input\" type=\"number\" required value={offset} onChange={e => setOffset(+e.target.value)}></input>\r\n                </label>\r\n                <label className=\"edit-cardbox__form-field\">\r\n                    Add words\r\n                    <textarea className=\"edit-cardbox__form-textarea\" value={words} onChange={e => setWords(e.target.value)}></textarea>\r\n                </label>\r\n                <button type=\"submit\" className=\"edit-cardbox__form-button\">Save Changes</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditCardbox;\r\n","import React from 'react';\r\n\r\nimport EditCardbox from '../../components/EditCardbox/EditCardbox';\r\nimport useAsyncRequest from '../../hooks/useAsyncRequest';\r\nimport { getCardbox, setDuration, addWords, setOffset,  } from '../../services/cardboxService';\r\n\r\nexport interface NetworkedEditCardboxProps {\r\n    cardbox: string;\r\n    afterChangesSaved: () => void;\r\n}\r\n\r\nconst NetworkedEditCardbox: React.FC<NetworkedEditCardboxProps> = ({ cardbox, afterChangesSaved }) => {\r\n\r\n    const saveChanges = (duration: number, offset: number, words: string[]) => Promise.all([\r\n        setDuration(cardbox, duration),\r\n        setOffset(cardbox, offset),\r\n        addWords(cardbox, offset, words)\r\n    ]).then(afterChangesSaved);\r\n\r\n    const { doRequest, result, error, inProgress } = useAsyncRequest((cardbox: string) =>\r\n        getCardbox(cardbox)\r\n    );\r\n\r\n    if (!inProgress && error === undefined && result === undefined) {\r\n        doRequest(cardbox);\r\n    }\r\n\r\n    if (result === undefined) { return <div></div>; }\r\n\r\n    return <EditCardbox cardbox={cardbox} duration={result.duration} offset={result.offset} onChangesSaved={saveChanges}></EditCardbox>\r\n};\r\n\r\nexport default NetworkedEditCardbox;\r\n","import React, { useState } from 'react';\r\nimport './EditCardboxPage.css';\r\n\r\nimport { match, Redirect } from 'react-router-dom';\r\nimport NetworkedEditCardbox from '../../containers/NetworkedEditCardbox/NetworkedEditCardbox';\r\n\r\nexport interface EditCardboxPageParams {\r\n    cardbox: string;\r\n}\r\n\r\nexport interface EditCardboxPageProps {\r\n    match: match<EditCardboxPageParams>;\r\n}\r\n\r\nconst EditCardboxPage: React.FC<EditCardboxPageProps> = ({ match }) => {\r\n\r\n    const [isRedirecting, setIsRedirecting] = useState(false);\r\n\r\n    if (isRedirecting) { return <Redirect to='/'></Redirect>; }\r\n\r\n    return (\r\n        <div className=\"edit-cardbox-page\">\r\n            <NetworkedEditCardbox cardbox={match.params.cardbox} afterChangesSaved={() => setIsRedirecting(true)}></NetworkedEditCardbox>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditCardboxPage;\r\n","import React, { useState, FormEvent } from 'react';\r\nimport './CreateCardbox.css';\r\n\r\nexport interface CreateCardboxProps {\r\n    onCreate: (name: string, duration: number) => void;\r\n}\r\n\r\nconst CreateCardbox: React.FC<CreateCardboxProps> = ({ onCreate }) => {\r\n\r\n    const [name, setName] = useState('')\r\n    const [duration, setDuration] = useState(10);\r\n\r\n    const handleSubmit = (e: FormEvent) => {\r\n        e.preventDefault();\r\n        onCreate(name, duration);\r\n    }\r\n\r\n    return (\r\n        <div className=\"create-cardbox\">\r\n            <div className=\"create-cardbox__title\">Create Cardbox</div>\r\n            <form className=\"create-cardbox__form\" onSubmit={handleSubmit}>\r\n            <label className=\"create-cardbox__form-field\">\r\n                    Name\r\n                    <input className=\"create-cardbox__form-input\" type=\"text\" required value={name} onChange={e => setName(e.target.value)}></input>\r\n                </label>\r\n                <label className=\"create-cardbox__form-field\">\r\n                    Duration\r\n                    <input className=\"create-cardbox__form-input\" type=\"number\" required value={duration} onChange={e => setDuration(+e.target.value)}></input>\r\n                </label>\r\n                <button type=\"submit\" className=\"create-cardbox__form-button\">Save Changes</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateCardbox;\r\n","import React from 'react';\r\n\r\nimport CreateCardbox from '../../components/CreateCardbox/CreateCardbox';\r\nimport { createCardbox } from '../../services/cardboxService';\r\n\r\nexport interface NetworkedCreateCardboxProps {\r\n    afterCreate: () => void;\r\n}\r\n\r\nconst NetworkedCreateCardbox: React.FC<NetworkedCreateCardboxProps> = ({ afterCreate }) => {\r\n\r\n    const doCreate = (name: string, duration: number) => createCardbox(name, duration)\r\n        .then(afterCreate);\r\n\r\n    return (\r\n        <CreateCardbox onCreate={doCreate}></CreateCardbox>\r\n    );\r\n};\r\n\r\nexport default NetworkedCreateCardbox;\r\n","import React, { useState } from 'react';\r\nimport './CreateCardboxPage.css';\r\n\r\nimport { Redirect } from 'react-router-dom';\r\nimport NetworkedCreateCardbox from '../../containers/NetworkedCreateCardbox/NetworkedCreateCardbox';\r\n\r\nconst CreateCardboxPage: React.FC = () => {\r\n\r\n    const [isRedirecting, setIsRedirecting] = useState(false);\r\n\r\n    if (isRedirecting) { return <Redirect to='/'></Redirect>; }\r\n\r\n    return (\r\n        <div className=\"create-cardbox-page\">\r\n            <NetworkedCreateCardbox afterCreate={() => setIsRedirecting(true)}></NetworkedCreateCardbox>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateCardboxPage;\r\n","import React, { useState } from 'react';\r\nimport './QuickEdit.css';\r\n\r\nexport interface QuickEditProps {\r\n    actions: {name: string, action: () => Promise<any>}[];\r\n}\r\n\r\nconst QuickEdit: React.FC<QuickEditProps> = ({ actions }) => {\r\n\r\n    const [inProgress, setInProgress] = useState(false);\r\n\r\n    const performAction = (action: () => Promise<void>): void => {\r\n        setInProgress(true);\r\n        action().finally(() => setInProgress(false));\r\n    }\r\n\r\n    return (\r\n        <div className=\"quick-edit\">\r\n            {inProgress && <div className=\"quick-edit__processing\">Processing...</div>}\r\n            {!inProgress && actions.map(({name, action}, idx) =>\r\n                <button className=\"quick-edit__button\" key={idx} onClick={() => performAction(action)}>{name}</button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QuickEdit;\r\n","import React from 'react';\r\n\r\nimport QuickEdit from '../../components/QuickEdit/QuickEdit';\r\nimport { getCardbox, addWords } from '../../services/cardboxService';\r\nimport highprob from '../../data/highprob.json';\r\nimport highprob9 from '../../data/highprob9.json';\r\nimport fiveVowels from '../../data/5vowels.json';\r\n\r\nconst NetworkedQuickEdit: React.FC = () => {\r\n\r\n    const actions = [\r\n        {name: 'Add to High Probability', action: addToHighProb},\r\n        {name: 'Add to High Probability Nines', action: addToHighProb9},\r\n        {name: 'Add to 5 Vowels', action: addTo5Vowels}\r\n    ];\r\n\r\n    return <QuickEdit actions={actions}></QuickEdit>\r\n}\r\n\r\nconst addToHighProb = () =>\r\n    getCardbox('High Probability').then(cardbox => {\r\n        const wordsInCardbox = new Set(cardbox.words);\r\n        const wordsToAdd = highprob.filter(ws => ws.some(word => !wordsInCardbox.has(word))).slice(0, 100).flatMap(ws => ws);\r\n        return addWords('High Probability', cardbox.offset, wordsToAdd);\r\n    })\r\n\r\nconst addToHighProb9 = () =>\r\n    getCardbox('High Probability Nines').then(cardbox => {\r\n        const wordsInCardbox = new Set(cardbox.words);\r\n        const wordsToAdd = highprob9.filter(ws => ws.some(word => !wordsInCardbox.has(word))).slice(0, 100).flatMap(ws => ws);\r\n        return addWords('High Probability Nines', cardbox.offset, wordsToAdd);\r\n    })\r\n\r\nconst addTo5Vowels = () =>\r\n    getCardbox('5 Vowels').then(cardbox => {\r\n        const wordsInCardbox = new Set(cardbox.words);\r\n        const wordsToAdd = fiveVowels.filter(ws => ws.some(word => !wordsInCardbox.has(word))).slice(0, 100).flatMap(ws => ws);\r\n        return addWords('5 Vowels', cardbox.offset, wordsToAdd);\r\n    })\r\n\r\nexport default NetworkedQuickEdit;\r\n","import React from 'react';\r\n\r\nimport NetworkedQuickEdit from '../../containers/NetworkedQuickEdit/NetworkedQuickEdit';\r\n\r\nconst QuickEditPage: React.FC = () => {\r\n    return (\r\n        <NetworkedQuickEdit></NetworkedQuickEdit>\r\n    );\r\n};\r\n\r\nexport default QuickEditPage;\r\n","import React, { useState } from 'react';\r\nimport './Login.css';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport interface LoginProps {\r\n    doLogin: (email: string, password: string) => Promise<any>;\r\n}\r\n\r\nconst Login: React.FC<LoginProps> = ({doLogin}) => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n    if (isLoggedIn) {\r\n        return <Redirect to=\"/\"></Redirect>\r\n    }\r\n\r\n    return <div className=\"login\">\r\n        <label className=\"login__label\">\r\n            Email\r\n            <input type=\"email\" className=\"login__input\" value={email} onChange={e => setEmail(e.target.value)}></input>\r\n        </label>\r\n        <label className=\"login__label\">\r\n            Password\r\n            <input type=\"password\" className=\"login__input\" value={password} onChange={e => setPassword(e.target.value)}></input>\r\n        </label>\r\n        <button className=\"login__submit\" onClick={() => doLogin(email, password).then(() => setIsLoggedIn(true))}>Submit</button>\r\n    </div>\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport Login from '../../components/Login/Login';\r\n\r\nimport { login } from '../../services/loginService';\r\n\r\nconst NetworkedLogin: React.FC = () => {\r\n    return <Login doLogin={login}></Login>\r\n}\r\n\r\nexport default NetworkedLogin;\r\n","import React from 'react';\r\nimport './LoginPage.css';\r\nimport NetworkedLogin from '../../containers/NetworkedLogin/NetworkedLogin';\r\n\r\nconst LoginPage: React.FC = () => {\r\n    return <div className=\"login-page\">\r\n        <NetworkedLogin></NetworkedLogin>\r\n    </div>\r\n}\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\nimport { BrowserRouter as Router, Switch, Route, withRouter } from 'react-router-dom';\r\nimport { isLoggedIn } from '../services/loginService';\r\nimport Navbar from '../components/Navbar/Navbar';\r\nimport AscensionQuizPage from '../pages/AscensionQuizPage/AscensionQuizPage';\r\nimport CardboxListPage from '../pages/CardboxListPage/CardboxListPage';\r\nimport CardboxQuizPage from '../pages/CardboxQuizPage/CardboxQuizPage';\r\nimport EditCardboxPage from '../pages/EditCardboxPage/EditCardboxPage';\r\nimport CreateCardboxPage from '../pages/CreateCardboxPage/CreateCardboxPage';\r\nimport QuickEditPage from '../pages/QuickEditPage/QuickEditPage';\r\nimport LoginPage from '../pages/LoginPage/LoginPage';\r\n\r\nconst App: React.FC = () => {\r\n    return (\r\n        <Router basename=\"/cardbox-ascension\">\r\n            <div className=\"app\">\r\n                <Routes></Routes>\r\n            </div>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n\r\nconst _Routes: React.FC = () => {\r\n\r\n    const loggedIn = isLoggedIn();\r\n\r\n    return (\r\n        <div className=\"app__container\">\r\n            <Navbar></Navbar>\r\n            <div className=\"app__content\">\r\n                {!loggedIn && <LoginPage></LoginPage>}\r\n                {loggedIn &&\r\n                    <Switch>\r\n                        <Route path=\"/learn/:cardbox\" component={CardboxQuizPage}></Route>\r\n                        <Route path=\"/edit/:cardbox\" component={EditCardboxPage}></Route>\r\n                        <Route path=\"/ascension\" component={AscensionQuizPage}></Route>\r\n                        <Route path=\"/create\" component={CreateCardboxPage}></Route>\r\n                        <Route path=\"/quick-edit\" component={QuickEditPage}></Route>\r\n                        <Route path=\"*\" component={CardboxListPage}></Route>\r\n                    </Switch>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Routes = withRouter(_Routes);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './app/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}
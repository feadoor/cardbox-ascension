{"version":3,"sources":["services/firebase.ts","services/loginService.ts","components/Navbar/Navbar.tsx","services/ascensionService.ts","hooks/useAsyncRequest.ts","components/Answers/Answers.tsx","components/LetterCard/LetterCard.tsx","components/Scramble/Scramble.tsx","hooks/useTimer.ts","hooks/useInterval.ts","components/Timer/Timer.tsx","hooks/useEventEmitter.ts","components/Question/Question.tsx","components/Quiz/Quiz.tsx","components/AscensionQuiz/AscensionQuiz.tsx","containers/NetworkedAscensionQuiz/NetworkedAscensionQuiz.tsx","pages/AscensionQuizPage/AscensionQuizPage.tsx","components/CardboxSummary/CardboxSummary.tsx","components/CardboxList/CardboxList.tsx","services/cardboxService.ts","containers/NetworkedCardboxList/NetworkedCardboxList.tsx","pages/CardboxListPage/CardboxListPage.tsx","components/CardboxQuiz/CardboxQuiz.tsx","containers/NetworkedCardboxQuiz/NetworkedCardboxQuiz.tsx","pages/CardboxQuizPage/CardboxQuizPage.tsx","components/EditCardbox/EditCardbox.tsx","containers/NetworkedEditCardbox/NetworkedEditCardbox.tsx","pages/EditCardboxPage/EditCardboxPage.tsx","components/CreateCardbox/CreateCardbox.tsx","containers/NetworkedCreateCardbox/NetworkedCreateCardbox.tsx","pages/CreateCardboxPage/CreateCardboxPage.tsx","components/QuickEdit/QuickEdit.tsx","containers/NetworkedQuickEdit/NetworkedQuickEdit.tsx","pages/QuickEditPage/QuickEditPage.tsx","components/Login/Login.tsx","containers/NetworkedLogin/NetworkedLogin.tsx","pages/LoginPage/LoginPage.tsx","app/App.tsx","serviceWorker.ts","index.tsx"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","appId","login","email","password","auth","signInWithEmailAndPassword","Navbar","className","to","getAscension","firestore","runTransaction","transaction","startNewCycle","waitingConundrums","shuffle","conundrums","map","c","set","doc","waiting","solved","unsolved","get","then","exists","data","length","ascension","items","arr","idx","jdx","Math","floor","random","useAsyncRequest","request","useState","undefined","result","setResult","error","setError","inProgress","setInProgress","isComplete","setIsComplete","doRequest","catch","Answers","answers","ans","key","LetterCard","letter","Scramble","scramble","char","useTimer","seconds","emitter","timeRemaining","setTimeRemaining","isRunning","setIsRunning","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useInterval","time","max","emit","startTimer","stopTimer","progressBarStyle","remaining","duration","width","Timer","eventEmitter","on","style","Emitter","callbacks","event","this","forEach","cb","push","Question","onQuestionEnded","questionActive","setQuestionActive","setSolved","timerEmitter","containerRef","focus","startQuestion","answerQuestion","response","endQuestion","ref","tabIndex","onKeyPress","e","toUpperCase","onClick","newScramble","question","randomScramble","letters","lettersArr","join","Quiz","_questions","questions","recycle","setQuestions","questionIdx","setQuestionIdx","keyFromScramble","sort","AscensionQuiz","onQuestionAnswered","quizQuestions","con","lookupMap","Object","assign","NetworkedAscensionQuiz","conundrum","update","fb","FieldValue","arrayRemove","arrayUnion","recordConundrumAsSolved","recordConundrumAsUnsolved","AscensionQuizPage","CardboxSummary","name","size","hasQuestionsDue","CardboxList","cardboxes","cardbox","getCardbox","collection","setDuration","addWords","words","wordsByKey","groupWordsByKey","Promise","all","keys","cardboxRef","docRef","existingAnswers","dedup","increment","asked","answeredCorrectly","level","due","Timestamp","now","getDueTimestamp","dueDate","Date","getHours","setDate","getDate","setHours","fromDate","Set","groups","word","getNewDueDate","newLevel","timeNow","daysToAdd","pow","min","nanoseconds","NetworkedCardboxList","querySnapshot","docs","where","limit","empty","CardboxListPage","CardboxQuiz","NetworkedCardboxQuiz","doCardboxRequest","cardboxResult","cardboxError","cardboxInProgress","getDueQuestions","doQuestionsRequest","questionsResult","questionsError","questionsInProgress","correct","newDueDate","newAsked","newAnsweredCorrectly","CardboxQuizPage","match","params","EditCardbox","_duration","onChangesSaved","setWords","onSubmit","preventDefault","split","type","required","value","onChange","target","NetworkedEditCardbox","afterChangesSaved","EditCardboxPage","isRedirecting","setIsRedirecting","CreateCardbox","onCreate","setName","NetworkedCreateCardbox","afterCreate","createCardbox","CreateCardboxPage","QuickEdit","actions","action","finally","performAction","addToHighProb","questionCount","wordsToAdd","highprob","slice","flatMap","ws","addToHighProb9","highprob9","addTo5Vowels","fiveVowels","NetworkedQuickEdit","QuickEditPage","Login","doLogin","setEmail","setPassword","isLoggedIn","setIsLoggedIn","NetworkedLogin","LoginPage","App","Routes","withRouter","loggedIn","currentUser","path","component","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.caa9eac1.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nconst config = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n};\r\n\r\nexport default firebase.initializeApp(config);\r\n","import firebase from './firebase';\r\n\r\nexport const login = (email: string, password: string) =>\r\n    firebase.auth().signInWithEmailAndPassword(email, password);\r\n\r\nexport const isLoggedIn = () => !!firebase.auth().currentUser;\r\n","import React from 'react';\r\nimport './Navbar.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Navbar: React.FC = () => {\r\n    return (\r\n        <div className=\"navbar\">\r\n            <Link className=\"navbar__link\" to=\"/\">Home</Link>\r\n            <Link className=\"navbar__link\" to=\"/ascension\">Ascension</Link>\r\n            <Link className=\"navbar__link\" to=\"/quick-edit\">Quick Edit</Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;\r\n","import firebase from './firebase';\r\nimport fb from 'firebase/app';\r\n\r\nimport conundrums from '../data/single_cons.json';\r\n\r\nexport interface Ascension {\r\n    waiting: string[];\r\n    solved: string[];\r\n    unsolved: string[];\r\n}\r\n\r\nexport const getAscension = (): Promise<Ascension> => {\r\n\r\n    return firebase.firestore().runTransaction(transaction => {\r\n\r\n        const startNewCycle = () => {\r\n            const waitingConundrums = shuffle(conundrums.map(c => c[0]));\r\n            transaction.set(firebase.firestore().doc('ascension/ascension'), {\r\n                waiting: waitingConundrums,\r\n                solved: [],\r\n                unsolved: []\r\n            });\r\n        };\r\n\r\n        const continueCurrentCycle = (ascension: Ascension) => {\r\n            transaction.set(firebase.firestore().doc('ascension/ascension'), {\r\n                waiting: ascension.unsolved,\r\n                solved: ascension.solved,\r\n                unsolved: []\r\n            });\r\n        }\r\n\r\n        return transaction.get(firebase.firestore().doc('ascension/ascension')).then(doc => {\r\n            if (!doc.exists) {\r\n                startNewCycle();\r\n            } else {\r\n                const data = doc.data() as Ascension;\r\n                if (data.waiting.length === 0) {\r\n                    if (data.unsolved.length > 0) {\r\n                        continueCurrentCycle(data);\r\n                    } else {\r\n                        startNewCycle();\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    })\r\n    .then(() => firebase.firestore().doc('ascension/ascension').get())\r\n    .then(doc => doc.data() as Ascension)\r\n}\r\n\r\nexport const recordConundrumAsSolved = (conundrum: string): Promise<void> => {\r\n    return firebase.firestore().doc('ascension/ascension').update({\r\n        waiting: fb.firestore.FieldValue.arrayRemove(conundrum),\r\n        solved: fb.firestore.FieldValue.arrayUnion(conundrum)\r\n    });\r\n}\r\n\r\nexport const recordConundrumAsUnsolved = (conundrum: string): Promise<void> => {\r\n    return firebase.firestore().doc('ascension/ascension').update({\r\n        waiting: fb.firestore.FieldValue.arrayRemove(conundrum),\r\n        unsolved: fb.firestore.FieldValue.arrayUnion(conundrum)\r\n    });\r\n}\r\n\r\nconst shuffle = <T extends any>(items: T[]): T[] => {\r\n    const arr = [...items];\r\n    for (let idx = arr.length - 1; idx > 0; idx -= 1) {\r\n        const jdx = Math.floor(Math.random() * (idx + 1));\r\n        [arr[idx], arr[jdx]] = [arr[jdx], arr[idx]];\r\n    }\r\n    return arr;\r\n}\r\n","import { useState } from 'react';\r\n\r\nexport type AsyncRequest<T, R, E> = {\r\n    doRequest: (data: T) => Promise<void>,\r\n    result: R | undefined,\r\n    error: E | boolean | undefined,\r\n    inProgress: boolean,\r\n    isComplete: boolean,\r\n};\r\n\r\nconst useAsyncRequest = <T, R, E> (request: (data: T) => Promise<R>): AsyncRequest<T, R, E> => {\r\n\r\n    const [result, setResult] = useState<R | undefined>(undefined);\r\n    const [error, setError] = useState<E | boolean | undefined>(undefined);\r\n    const [inProgress, setInProgress] = useState(false);\r\n    const [isComplete, setIsComplete] = useState(false);\r\n\r\n    const doRequest = (data: T) => {\r\n        setInProgress(true); setIsComplete(false); setResult(undefined); setError(undefined);\r\n        return request(data)\r\n            .then(result => {\r\n                setResult(result);\r\n                setInProgress(false);\r\n                setIsComplete(true);\r\n            })\r\n            .catch((error: E) => {\r\n                setError(error === undefined ? true : error);\r\n                setInProgress(false);\r\n            });\r\n    };\r\n\r\n    return { doRequest, result, error, inProgress, isComplete }\r\n}\r\n\r\nexport default useAsyncRequest;\r\n","import React from 'react';\r\nimport './Answers.css';\r\n\r\nexport interface AnswersProps {\r\n    answers: string[];\r\n}\r\n\r\nconst Answers: React.FC<AnswersProps> = ({ answers }) => {\r\n    return (\r\n        <div className=\"answers\">\r\n            <ul className=\"answers__list\">\r\n                {answers.map((ans, idx) =>\r\n                    <li key={idx} className=\"answers__answer\">{ans}</li>\r\n                )}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Answers;\r\n","import React from 'react';\r\nimport './LetterCard.css';\r\n\r\nexport interface LetterCardProps {\r\n    letter: string;\r\n}\r\n\r\nconst LetterCard: React.FC<LetterCardProps> = ({ letter }) => {\r\n    return (\r\n        <div className=\"letter-card\">{letter}</div>\r\n    );\r\n};\r\n\r\nexport default LetterCard;\r\n","import React from 'react';\r\nimport './Scramble.css';\r\n\r\nimport LetterCard from '../LetterCard/LetterCard';\r\n\r\nexport interface ScrambleProps {\r\n    scramble: string;\r\n}\r\n\r\nconst Scramble: React.FC<ScrambleProps> = ({ scramble }) => {\r\n    return (\r\n        <div className=\"scramble\">\r\n            {[...scramble].map((char, idx) =>\r\n                <LetterCard key={idx} letter={char}></LetterCard>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Scramble;\r\n","import { useState } from 'react';\r\nimport { Emitter } from './useEventEmitter';\r\n\r\nimport useInterval from './useInterval';\r\n\r\nexport default function useTimer(seconds: number, emitter: Emitter<void>) {\r\n\r\n    const [timeRemaining, setTimeRemaining] = useState(seconds);\r\n    const [isRunning, setIsRunning] = useState(false);\r\n\r\n    useInterval(() => {\r\n        if (timeRemaining > 0) {\r\n            setTimeRemaining(time => Math.max(0, time - 0.03));\r\n        } else {\r\n            setIsRunning(false);\r\n            emitter.emit('expire');\r\n        }\r\n    }, isRunning ? 30 : null);\r\n\r\n    const startTimer = () => {\r\n        setTimeRemaining(seconds);\r\n        setIsRunning(true);\r\n    };\r\n\r\n    const stopTimer = () => {\r\n        setIsRunning(false);\r\n    };\r\n\r\n    return { startTimer, stopTimer, timeRemaining };\r\n}\r\n","import { useEffect, useRef } from 'react';\r\n\r\nexport default function useInterval(callback: () => void, delay: number | null) {\r\n\r\n    const savedCallback = useRef<() => void>();\r\n\r\n    useEffect(() => {\r\n        savedCallback.current = callback;\r\n    }, [callback]);\r\n\r\n    useEffect(() => {\r\n        if (delay !== null) {\r\n            let id = setInterval(() => savedCallback.current && savedCallback.current(), delay);\r\n            return () => clearInterval(id);\r\n        }\r\n    }, [delay]);\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport './Timer.css';\r\n\r\nimport useTimer from '../../hooks/useTimer';\r\nimport { Emitter } from '../../hooks/useEventEmitter';\r\n\r\nexport interface TimerProps {\r\n    seconds: number;\r\n    eventEmitter: Emitter<void>;\r\n}\r\n\r\nconst Timer: React.FC<TimerProps> = ({ seconds, eventEmitter }) => {\r\n\r\n    const { startTimer, stopTimer, timeRemaining } = useTimer(seconds, eventEmitter);\r\n    useEffect(() => eventEmitter.on('start', () => startTimer()), []);\r\n    useEffect(() => eventEmitter.on('stop', () => stopTimer()), []);\r\n\r\n    return (\r\n        <div className=\"timer\">\r\n            <div className=\"timer__progress\" style={progressBarStyle(timeRemaining, seconds)}></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst progressBarStyle = (remaining: number, duration: number) => ({\r\n    width: `${100 * remaining / duration}%`\r\n});\r\n\r\nexport default Timer;\r\n","import { useState } from 'react';\r\n\r\nexport class Emitter<T> {\r\n\r\n    private callbacks: {[s: string]: ((_: T) => void)[]} = {};\r\n\r\n    public emit(event: string, data: T): void {\r\n        this.callbacks[event] && this.callbacks[event].forEach(cb => cb(data));\r\n    }\r\n\r\n    public on(event: string, cb: (_: T) => void) {\r\n        if (!this.callbacks[event]) this.callbacks[event] = [];\r\n        this.callbacks[event].push(cb);\r\n    }\r\n}\r\n\r\nexport default function useEventEmitter<T>() {\r\n    const eventEmitter = useState(new Emitter<T>())[0];\r\n    return eventEmitter;\r\n}\r\n","import React, { useEffect, useState, useRef, KeyboardEvent } from 'react';\r\nimport './Question.css';\r\n\r\nimport Answers from '../Answers/Answers';\r\nimport Scramble from '../Scramble/Scramble';\r\nimport Timer from '../Timer/Timer';\r\n\r\nimport useEventEmitter from '../../hooks/useEventEmitter';\r\n\r\nexport interface QuestionProps {\r\n    idx: number;\r\n    scramble: string;\r\n    answers: string[];\r\n    duration: number;\r\n    onQuestionEnded: (solved: boolean) => void;\r\n}\r\n\r\nconst Question: React.FC<QuestionProps> = ({ idx, scramble, answers, duration, onQuestionEnded }) => {\r\n\r\n    const [questionActive, setQuestionActive] = useState(true);\r\n    const [solved, setSolved] = useState(true);\r\n    const timerEmitter = useEventEmitter<void>();\r\n\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    useEffect(() => {\r\n        containerRef.current && containerRef.current.focus();\r\n    });\r\n\r\n    useEffect(() => startQuestion(), [idx]);\r\n    useEffect(() => timerEmitter.on('expire', () => answerQuestion(false)), []);\r\n\r\n    const startQuestion = () => {\r\n        setQuestionActive(true);\r\n        timerEmitter.emit('start');\r\n    };\r\n\r\n    const answerQuestion = (response: boolean) => {\r\n        setQuestionActive(false);\r\n        setSolved(response);\r\n        timerEmitter.emit('stop');\r\n    };\r\n\r\n    const endQuestion = () => {\r\n        setQuestionActive(true);\r\n        onQuestionEnded(solved);\r\n    }\r\n\r\n    const handleKeyPress = (e: KeyboardEvent) => {\r\n        if (questionActive && e.key.toUpperCase() === ' ') answerQuestion(true);\r\n        else if (questionActive && e.key.toUpperCase() === 'M') answerQuestion(false);\r\n        else if (!questionActive && e.key.toUpperCase() === 'M') setSolved(!solved);\r\n        else if (!questionActive && e.key.toUpperCase() === ' ') endQuestion();\r\n    };\r\n\r\n    return (\r\n        <div className=\"question\" ref={containerRef} tabIndex={-1} onKeyPress={handleKeyPress}>\r\n            <div className=\"question__scramble-and-timer\">\r\n                <Scramble scramble={scramble}></Scramble>\r\n                <Timer seconds={duration} eventEmitter={timerEmitter}></Timer>\r\n            </div>\r\n            {questionActive && <div className=\"question__response\">\r\n                <button className=\"question__response-button question__response-button--solved\" onClick={() => answerQuestion(true)}>Solved</button>\r\n                <button className=\"question__response-button question__response-button--missed\" onClick={() => answerQuestion(false)}>Missed</button>\r\n            </div>}\r\n            {!questionActive && <div className=\"question__results\">\r\n                <Answers answers={answers}></Answers>\r\n                <div className=\"question__confirm\">\r\n                    <button className={'question__response-button question__response-button--' + (solved ? 'solved' : 'missed')} onClick={() => setSolved(!solved)}>{solved ? 'Solved' : 'Missed'}</button>\r\n                    <button className=\"question__response-button\" onClick={() => endQuestion()}>Next question</button>\r\n                </div>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Question;\r\n","import React, { useState } from 'react';\r\nimport './Quiz.css';\r\n\r\nimport Question from '../Question/Question';\r\n\r\nexport interface QuizQuestion {\r\n    scramble: string;\r\n    answers: string[];\r\n}\r\n\r\nexport interface QuizProps {\r\n    questions: QuizQuestion[];\r\n    duration: number;\r\n    recycle: boolean;\r\n    onQuestionEnded: (scramble: string, solved: boolean) => void;\r\n}\r\n\r\nconst Quiz: React.FC<QuizProps> = ({ questions: _questions, duration, recycle, onQuestionEnded }) => {\r\n\r\n    const [questions, setQuestions] = useState(_questions);\r\n    const [questionIdx, setQuestionIdx] = useState(0);\r\n\r\n    const endQuestion = (solved: boolean) => {\r\n        onQuestionEnded(questions[questionIdx].scramble, solved);\r\n        if (!solved && recycle) setQuestions([...questions, newScramble(questions[questionIdx])]);\r\n        setQuestionIdx(idx => idx + 1);\r\n    };\r\n\r\n    return (\r\n        <div className=\"quiz\">\r\n            {questionIdx >= questions.length && <div className=\"quiz__ended\">\r\n                No more questions!\r\n            </div>}\r\n            {questionIdx < questions.length && <div className=\"quiz__question\">\r\n                <div className=\"quiz__heading\">Question {questionIdx + 1} of {questions.length}</div>\r\n                <Question idx={questionIdx} scramble={questions[questionIdx].scramble} answers={questions[questionIdx].answers} duration={duration} onQuestionEnded={endQuestion}></Question>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst newScramble = (question: QuizQuestion) => ({\r\n    ...question,\r\n    scramble: randomScramble(question.scramble)\r\n});\r\n\r\nconst randomScramble = (letters: string) => {\r\n    const lettersArr = [...letters];\r\n    for (let idx = lettersArr.length - 1; idx > 0; idx -= 1) {\r\n        const jdx = Math.floor(Math.random() * (idx + 1));\r\n        [lettersArr[idx], lettersArr[jdx]] = [lettersArr[jdx], lettersArr[idx]];\r\n    }\r\n    return lettersArr.join('');\r\n};\r\n\r\nexport default Quiz;\r\n","import React from 'react';\r\n\r\nimport conundrums from '../../data/single_cons.json';\r\n\r\nimport Quiz from '../Quiz/Quiz';\r\nimport { Ascension } from '../../services/ascensionService';\r\n\r\nexport interface AscensionQuizProps {\r\n    ascension: Ascension;\r\n    duration: number;\r\n    onQuestionAnswered: (conundrum: string, solved: boolean) => void;\r\n}\r\n\r\nconst AscensionQuiz: React.FC<AscensionQuizProps> = ({ ascension, duration, onQuestionAnswered }) => {\r\n\r\n    const quizQuestions = shuffle(ascension.waiting.map(con => ({\r\n        scramble: randomScramble(con),\r\n        answers: [con]\r\n    })));\r\n\r\n    const lookupMap = Object.assign({}, ...conundrums.map(con => ({ [keyFromScramble(con[0])]: con[0] })));\r\n\r\n    return (\r\n        <Quiz questions={quizQuestions} duration={duration} recycle={false} onQuestionEnded={(scramble, solved) => onQuestionAnswered(lookupMap[keyFromScramble(scramble)], solved)}></Quiz>\r\n    );\r\n};\r\n\r\nconst shuffle = <T extends any>(items: T[]): T[] => {\r\n    const arr = [...items];\r\n    for (let idx = arr.length - 1; idx > 0; idx -= 1) {\r\n        const jdx = Math.floor(Math.random() * (idx + 1));\r\n        [arr[idx], arr[jdx]] = [arr[jdx], arr[idx]];\r\n    }\r\n    return arr;\r\n}\r\n\r\nconst randomScramble = (letters: string) => {\r\n    return shuffle([...letters]).join('');\r\n};\r\n\r\nconst keyFromScramble = (scramble: string) => [...scramble].sort().join('');\r\n\r\nexport default AscensionQuiz;\r\n","import React from 'react';\r\n\r\nimport { getAscension, recordConundrumAsSolved, recordConundrumAsUnsolved } from '../../services/ascensionService';\r\nimport useAsyncRequest from '../../hooks/useAsyncRequest';\r\n\r\nimport AscensionQuiz from '../../components/AscensionQuiz/AscensionQuiz';\r\n\r\nconst NetworkedAscensionQuiz: React.FC = () => {\r\n\r\n    const { doRequest, result, error, inProgress } = useAsyncRequest(() =>\r\n        getAscension()\r\n    );\r\n\r\n    if (!inProgress && error === undefined && result === undefined) {\r\n        doRequest(1);\r\n    }\r\n\r\n    if (result === undefined) { return <div></div>; }\r\n\r\n    const answerQuestion = (conundrum: string, solved: boolean) => {\r\n        if (solved) recordConundrumAsSolved(conundrum);\r\n        else recordConundrumAsUnsolved(conundrum);\r\n    }\r\n\r\n    return (\r\n        <AscensionQuiz duration={5} ascension={result} onQuestionAnswered={answerQuestion}></AscensionQuiz>\r\n    );\r\n};\r\n\r\nexport default NetworkedAscensionQuiz;\r\n","import React from 'react';\r\n\r\nimport NetworkedAscensionQuiz from '../../containers/NetworkedAscensionQuiz/NetworkedAscensionQuiz';\r\n\r\nconst AscensionQuizPage: React.FC = () => {\r\n    return (\r\n        <NetworkedAscensionQuiz></NetworkedAscensionQuiz>\r\n    );\r\n};\r\n\r\nexport default AscensionQuizPage;\r\n","import React from 'react';\r\nimport './CardboxSummary.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport interface CardboxSummaryProps {\r\n    name: string;\r\n    size: number;\r\n    hasQuestionsDue: boolean;\r\n}\r\n\r\nconst CardboxSummary: React.FC<CardboxSummaryProps> = ({ name, size, hasQuestionsDue }) => {\r\n    return (\r\n        <div className=\"cardbox-summary\">\r\n            <div className=\"cardbox-summary__name\">{name} ({size})</div>\r\n            <div className={'cardbox-summary__status cardbox-summary__status--' + (hasQuestionsDue ? 'due' : 'stale')}>{hasQuestionsDue ? 'Questions Due' : 'No Questions Due'}</div>\r\n            <div className=\"cardbox-summary__actions\">\r\n                <Link className=\"cardbox-summary__action\" to={`/edit/${name}`}>Edit</Link>\r\n                <Link className=\"cardbox-summary__action\" to={`/learn/${name}`}>Learn</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CardboxSummary;\r\n","import React from 'react';\r\nimport './CardboxList.css';\r\n\r\nimport CardboxSummary from '../CardboxSummary/CardboxSummary';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport interface CardboxListProps {\r\n    cardboxes: {name: string, size: number, hasQuestionsDue: boolean}[];\r\n}\r\n\r\nconst CardboxList: React.FC<CardboxListProps> = ({ cardboxes }) => {\r\n    return (\r\n        <div className=\"cardbox-list\">\r\n            {cardboxes.map((cardbox, idx) =>\r\n                <CardboxSummary {...cardbox} key={idx}></CardboxSummary>\r\n            )}\r\n            <Link to=\"/create\" className=\"cardbox-list__fake-summary\">\r\n                <div className=\"cardbox-list__plus-line--vertical\"></div>\r\n                <div className=\"cardbox-list__plus-line--horizontal\"></div>\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CardboxList;\r\n","import firebase from './firebase';\r\nimport fb from 'firebase/app';\r\n\r\nexport interface Cardbox {\r\n    name: string;\r\n    size: number;\r\n    duration: number;\r\n}\r\n\r\nexport interface Question {\r\n    letters: string;\r\n    answers: string[];\r\n    asked: number;\r\n    answeredCorrectly: number;\r\n    level: number;\r\n    due: Date;\r\n}\r\n\r\nexport const getCardbox = (cardbox: string): Promise<Cardbox> =>\r\n    firebase.firestore().collection('cardboxes').doc(cardbox).get().then(doc => ({\r\n        ...doc.data(),\r\n        name: doc.id\r\n    } as Cardbox));\r\n\r\nexport const getCardboxes = (): Promise<Cardbox[]> =>\r\n    firebase.firestore().collection('cardboxes').get().then(querySnapshot =>\r\n        querySnapshot.docs.map(doc => ({\r\n            ...doc.data(),\r\n            name: doc.id\r\n        } as Cardbox))\r\n    );\r\n\r\nexport const hasQuestionsDue = (cardbox: string): Promise<boolean> =>\r\n    firebase.firestore().collection('cardboxes').doc(cardbox).collection('questions')\r\n        .where('due', '<=', fb.firestore.Timestamp.now()).limit(1).get().then(querySnapshot =>\r\n            !querySnapshot.empty\r\n        );\r\n\r\nexport const getDueQuestions = (cardbox: string): Promise<Question[]> =>\r\n    firebase.firestore().collection('cardboxes').doc(cardbox).collection('questions')\r\n        .where('due', '<=', getDueTimestamp()).get().then(querySnapshot =>\r\n            querySnapshot.docs.map(doc => ({\r\n                ...doc.data(),\r\n                letters: doc.id\r\n            } as Question))\r\n        );\r\n\r\nexport const createCardbox = (name: string, duration: number): Promise<void> => {\r\n    const docRef = firebase.firestore().collection('cardboxes').doc(name);\r\n    return firebase.firestore().runTransaction(transaction =>\r\n        transaction.get(docRef).then(doc => {\r\n            if (!doc.exists) {\r\n                transaction.set(docRef, { size: 0, duration: duration });\r\n            }\r\n        })\r\n    );\r\n}\r\n\r\nexport const setDuration = (cardbox: string, duration: number): Promise<void> => {\r\n    return firebase.firestore().collection('cardboxes').doc(cardbox).update({ duration: duration });\r\n}\r\n\r\nexport const addWords = (cardbox: string, words: string[]): Promise<void[]> => {\r\n    const wordsByKey = groupWordsByKey(words);\r\n    return Promise.all(Object.keys(wordsByKey).map(key =>\r\n        firebase.firestore().runTransaction(transaction => {\r\n            const cardboxRef = firebase.firestore().collection('cardboxes').doc(cardbox);\r\n            const docRef = firebase.firestore().collection('cardboxes').doc(cardbox).collection('questions').doc(key);\r\n            return transaction.get(docRef).then(doc => {\r\n                if (!doc.exists) {\r\n                    transaction.update(cardboxRef, { size: fb.firestore.FieldValue.increment(1) });\r\n                    transaction.set(docRef, { answers: wordsByKey[key], asked: 0, answeredCorrectly: 0, level: 0, due: fb.firestore.Timestamp.now() });\r\n                } else {\r\n                    const existingAnswers = (doc.data() as Question).answers;\r\n                    transaction.update(docRef, { answers: dedup([...existingAnswers, ...wordsByKey[key]]) });\r\n                }\r\n            })\r\n        })\r\n    ));\r\n}\r\n\r\nexport const answerQuestion = (cardbox: string, letters: string, correct: boolean) => {\r\n    const docRef = firebase.firestore().collection('cardboxes').doc(cardbox).collection('questions').doc(letters);\r\n    return firebase.firestore().runTransaction(transaction =>\r\n        transaction.get(docRef).then(doc => {\r\n            const data = doc.data() as Question;\r\n            const newLevel = correct ? data.level + 1 : 0;\r\n            const newDueDate = getNewDueDate(newLevel);\r\n            const newAsked = data.asked + 1;\r\n            const newAnsweredCorrectly = correct ? data.answeredCorrectly + 1 : data.answeredCorrectly;\r\n            transaction.update(docRef, { level: newLevel, due: newDueDate, asked: newAsked, answeredCorrectly: newAnsweredCorrectly });\r\n        })\r\n    );\r\n}\r\n\r\nconst getDueTimestamp = () => {\r\n    const dueDate = new Date();\r\n    if (dueDate.getHours() >= 5) dueDate.setDate(dueDate.getDate() + 1); \r\n    dueDate.setHours(5, 0, 0, 0);\r\n    return fb.firestore.Timestamp.fromDate(dueDate);\r\n};\r\n\r\nconst dedup = (words: string[]): string[] => [...new Set(words)].sort();\r\n\r\nconst groupWordsByKey = (words: string[]): {[key: string]: string[]} => {\r\n    const groups: {[key: string]: string[]} = {};\r\n    words.forEach(word => {\r\n        const key = [...word].sort().join('');\r\n        if (groups[key] === undefined) groups[key] = [];\r\n        groups[key].push(word);\r\n    });\r\n    return groups;\r\n}\r\n\r\nconst getNewDueDate = (newLevel: number) => {\r\n    const timeNow = fb.firestore.Timestamp.now();\r\n    const secondsInDay = 60 * 60 * 24;\r\n    const daysToAdd = newLevel === 0 ? 0 : Math.pow(2, Math.min(newLevel, 9) - 1);\r\n    return new fb.firestore.Timestamp(timeNow.seconds + secondsInDay * daysToAdd, timeNow.nanoseconds);\r\n}\r\n","import React from 'react';\r\n\r\nimport CardboxList, { CardboxListProps } from '../../components/CardboxList/CardboxList';\r\nimport useAsyncRequest from '../../hooks/useAsyncRequest';\r\nimport { getCardboxes, hasQuestionsDue } from '../../services/cardboxService';\r\n\r\nconst NetworkedCardboxList: React.FC = () => {\r\n\r\n    const { doRequest, result, error, inProgress } = useAsyncRequest<void, CardboxListProps['cardboxes'], undefined>(() =>\r\n        getCardboxes().then(cardboxes => Promise.all(cardboxes.map(cardbox =>\r\n            hasQuestionsDue(cardbox.name).then(due => ({ name: cardbox.name, size: cardbox.size, hasQuestionsDue: due}))\r\n        )))\r\n    );\r\n\r\n    if (!inProgress && error === undefined && result === undefined) {\r\n        doRequest();\r\n    }\r\n\r\n    if (result === undefined) { return <div></div>; }\r\n\r\n    return <CardboxList cardboxes={result}></CardboxList>\r\n}\r\n\r\nexport default NetworkedCardboxList;\r\n","import React from 'react';\r\n\r\nimport NetworkedCardboxList from '../../containers/NetworkedCardboxList/NetworkedCardboxList';\r\n\r\nconst CardboxListPage: React.FC = () => {\r\n    return (\r\n        <NetworkedCardboxList></NetworkedCardboxList>\r\n    );\r\n};\r\n\r\nexport default CardboxListPage;\r\n","import React from 'react';\r\n\r\nimport { Question } from '../../services/cardboxService';\r\nimport Quiz from '../Quiz/Quiz';\r\n\r\nexport interface CardboxQuizProps {\r\n    questions: Question[];\r\n    duration: number;\r\n    onQuestionAnswered: (letters: string, solved: boolean) => void;\r\n}\r\n\r\nconst CardboxQuiz: React.FC<CardboxQuizProps> = ({ questions, duration, onQuestionAnswered }) => {\r\n\r\n    const quizQuestions = shuffle(questions.map(question => ({\r\n        scramble: randomScramble(question.letters),\r\n        answers: question.answers\r\n    })));\r\n\r\n    return (\r\n        <Quiz questions={quizQuestions} duration={duration} recycle={true} onQuestionEnded={(scramble, solved) => onQuestionAnswered(keyFromScramble(scramble), solved)}></Quiz>\r\n    );\r\n};\r\n\r\nconst shuffle = <T extends any>(items: T[]): T[] => {\r\n    const arr = [...items];\r\n    for (let idx = arr.length - 1; idx > 0; idx -= 1) {\r\n        const jdx = Math.floor(Math.random() * (idx + 1));\r\n        [arr[idx], arr[jdx]] = [arr[jdx], arr[idx]];\r\n    }\r\n    return arr;\r\n}\r\n\r\nconst randomScramble = (letters: string) => {\r\n    return shuffle([...letters]).join('');\r\n};\r\n\r\nconst keyFromScramble = (scramble: string) => [...scramble].sort().join('');\r\n\r\nexport default CardboxQuiz;\r\n","import React from 'react';\r\n\r\nimport { getDueQuestions, getCardbox, answerQuestion } from '../../services/cardboxService';\r\nimport useAsyncRequest from '../../hooks/useAsyncRequest';\r\n\r\nimport CardboxQuiz from '../../components/CardboxQuiz/CardboxQuiz';\r\n\r\nexport interface NetworkedCardboxQuizProps {\r\n    cardbox: string;\r\n}\r\n\r\nconst NetworkedCardboxQuiz: React.FC<NetworkedCardboxQuizProps> = ({ cardbox }) => {\r\n\r\n    const { doRequest: doCardboxRequest, result: cardboxResult, error: cardboxError, inProgress: cardboxInProgress } = useAsyncRequest((cardbox: string) =>\r\n        getCardbox(cardbox)\r\n    )\r\n\r\n    const { doRequest: doQuestionsRequest, result: questionsResult, error: questionsError, inProgress: questionsInProgress } = useAsyncRequest((cardbox: string) =>\r\n        getDueQuestions(cardbox)\r\n    );\r\n\r\n    if (!cardboxInProgress && cardboxError === undefined && cardboxResult === undefined) {\r\n        doCardboxRequest(cardbox);\r\n    }\r\n\r\n    if (!questionsInProgress && questionsError === undefined && questionsResult === undefined) {\r\n        doQuestionsRequest(cardbox);\r\n    }\r\n\r\n    if (cardboxResult === undefined || questionsResult === undefined) { return <div></div>; }\r\n\r\n    return <CardboxQuiz duration={cardboxResult.duration} questions={questionsResult} onQuestionAnswered={(letters, solved) => answerQuestion(cardboxResult.name, letters, solved)}></CardboxQuiz>;\r\n};\r\n\r\nexport default NetworkedCardboxQuiz;\r\n","import React from 'react';\r\n\r\nimport { match } from 'react-router-dom';\r\nimport NetworkedCardboxQuiz from '../../containers/NetworkedCardboxQuiz/NetworkedCardboxQuiz';\r\n\r\nexport interface CardboxQuizPageParams {\r\n    cardbox: string;\r\n}\r\n\r\nexport interface CardboxQuizPageProps {\r\n    match: match<CardboxQuizPageParams>;\r\n}\r\n\r\nconst CardboxQuizPage: React.FC<CardboxQuizPageProps> = ({ match }) => {\r\n    return (\r\n        <NetworkedCardboxQuiz cardbox={match.params.cardbox}></NetworkedCardboxQuiz>\r\n    );\r\n};\r\n\r\nexport default CardboxQuizPage;\r\n","import React, { useState, FormEvent } from 'react';\r\nimport './EditCardbox.css';\r\n\r\nexport interface EditCardboxProps {\r\n    cardbox: string;\r\n    duration: number;\r\n    onChangesSaved: (duration: number, words: string[]) => void;\r\n}\r\n\r\nconst EditCardbox: React.FC<EditCardboxProps> = ({ cardbox, duration: _duration, onChangesSaved }) => {\r\n\r\n    const [duration, setDuration] = useState(_duration);\r\n    const [words, setWords] = useState('');\r\n\r\n    const handleSubmit = (e: FormEvent) => {\r\n        e.preventDefault();\r\n        onChangesSaved(duration, words.split(/\\s+/));\r\n    }\r\n\r\n    return (\r\n        <div className=\"edit-cardbox\">\r\n            <div className=\"edit-cardbox__title\">Edit {cardbox}</div>\r\n            <form className=\"edit-cardbox__form\" onSubmit={handleSubmit}>\r\n                <label className=\"edit-cardbox__form-field\">\r\n                    Duration\r\n                    <input className=\"edit-cardbox__form-input\" type=\"number\" required value={duration} onChange={e => setDuration(+e.target.value)}></input>\r\n                </label>\r\n                <label className=\"edit-cardbox__form-field\">\r\n                    Add words\r\n                    <textarea className=\"edit-cardbox__form-textarea\" value={words} onChange={e => setWords(e.target.value)}></textarea>\r\n                </label>\r\n                <button type=\"submit\" className=\"edit-cardbox__form-button\">Save Changes</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditCardbox;\r\n","import React from 'react';\r\n\r\nimport EditCardbox from '../../components/EditCardbox/EditCardbox';\r\nimport useAsyncRequest from '../../hooks/useAsyncRequest';\r\nimport { getCardbox, setDuration, addWords,  } from '../../services/cardboxService';\r\n\r\nexport interface NetworkedEditCardboxProps {\r\n    cardbox: string;\r\n    afterChangesSaved: () => void;\r\n}\r\n\r\nconst NetworkedEditCardbox: React.FC<NetworkedEditCardboxProps> = ({ cardbox, afterChangesSaved }) => {\r\n\r\n    const saveChanges = (duration: number, words: string[]) => Promise.all([\r\n        setDuration(cardbox, duration),\r\n        addWords(cardbox, words)\r\n    ]).then(afterChangesSaved);\r\n\r\n    const { doRequest, result, error, inProgress } = useAsyncRequest((cardbox: string) =>\r\n        getCardbox(cardbox)\r\n    );\r\n\r\n    if (!inProgress && error === undefined && result === undefined) {\r\n        doRequest(cardbox);\r\n    }\r\n\r\n    if (result === undefined) { return <div></div>; }\r\n\r\n    return <EditCardbox cardbox={cardbox} duration={result.duration} onChangesSaved={saveChanges}></EditCardbox>\r\n};\r\n\r\nexport default NetworkedEditCardbox;\r\n","import React, { useState } from 'react';\r\nimport './EditCardboxPage.css';\r\n\r\nimport { match, Redirect } from 'react-router-dom';\r\nimport NetworkedEditCardbox from '../../containers/NetworkedEditCardbox/NetworkedEditCardbox';\r\n\r\nexport interface EditCardboxPageParams {\r\n    cardbox: string;\r\n}\r\n\r\nexport interface EditCardboxPageProps {\r\n    match: match<EditCardboxPageParams>;\r\n}\r\n\r\nconst EditCardboxPage: React.FC<EditCardboxPageProps> = ({ match }) => {\r\n\r\n    const [isRedirecting, setIsRedirecting] = useState(false);\r\n\r\n    if (isRedirecting) { return <Redirect to='/'></Redirect>; }\r\n\r\n    return (\r\n        <div className=\"edit-cardbox-page\">\r\n            <NetworkedEditCardbox cardbox={match.params.cardbox} afterChangesSaved={() => setIsRedirecting(true)}></NetworkedEditCardbox>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditCardboxPage;\r\n","import React, { useState, FormEvent } from 'react';\r\nimport './CreateCardbox.css';\r\n\r\nexport interface CreateCardboxProps {\r\n    onCreate: (name: string, duration: number) => void;\r\n}\r\n\r\nconst CreateCardbox: React.FC<CreateCardboxProps> = ({ onCreate }) => {\r\n\r\n    const [name, setName] = useState('')\r\n    const [duration, setDuration] = useState(10);\r\n\r\n    const handleSubmit = (e: FormEvent) => {\r\n        e.preventDefault();\r\n        onCreate(name, duration);\r\n    }\r\n\r\n    return (\r\n        <div className=\"create-cardbox\">\r\n            <div className=\"create-cardbox__title\">Create Cardbox</div>\r\n            <form className=\"create-cardbox__form\" onSubmit={handleSubmit}>\r\n            <label className=\"create-cardbox__form-field\">\r\n                    Name\r\n                    <input className=\"create-cardbox__form-input\" type=\"text\" required value={name} onChange={e => setName(e.target.value)}></input>\r\n                </label>\r\n                <label className=\"create-cardbox__form-field\">\r\n                    Duration\r\n                    <input className=\"create-cardbox__form-input\" type=\"number\" required value={duration} onChange={e => setDuration(+e.target.value)}></input>\r\n                </label>\r\n                <button type=\"submit\" className=\"create-cardbox__form-button\">Save Changes</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateCardbox;\r\n","import React from 'react';\r\n\r\nimport CreateCardbox from '../../components/CreateCardbox/CreateCardbox';\r\nimport { createCardbox } from '../../services/cardboxService';\r\n\r\nexport interface NetworkedCreateCardboxProps {\r\n    afterCreate: () => void;\r\n}\r\n\r\nconst NetworkedCreateCardbox: React.FC<NetworkedCreateCardboxProps> = ({ afterCreate }) => {\r\n\r\n    const doCreate = (name: string, duration: number) => createCardbox(name, duration)\r\n        .then(afterCreate);\r\n\r\n    return (\r\n        <CreateCardbox onCreate={doCreate}></CreateCardbox>\r\n    );\r\n};\r\n\r\nexport default NetworkedCreateCardbox;\r\n","import React, { useState } from 'react';\r\nimport './CreateCardboxPage.css';\r\n\r\nimport { Redirect } from 'react-router-dom';\r\nimport NetworkedCreateCardbox from '../../containers/NetworkedCreateCardbox/NetworkedCreateCardbox';\r\n\r\nconst CreateCardboxPage: React.FC = () => {\r\n\r\n    const [isRedirecting, setIsRedirecting] = useState(false);\r\n\r\n    if (isRedirecting) { return <Redirect to='/'></Redirect>; }\r\n\r\n    return (\r\n        <div className=\"create-cardbox-page\">\r\n            <NetworkedCreateCardbox afterCreate={() => setIsRedirecting(true)}></NetworkedCreateCardbox>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateCardboxPage;\r\n","import React, { useState } from 'react';\r\nimport './QuickEdit.css';\r\n\r\nexport interface QuickEditProps {\r\n    actions: {name: string, action: () => Promise<any>}[];\r\n}\r\n\r\nconst QuickEdit: React.FC<QuickEditProps> = ({ actions }) => {\r\n\r\n    const [inProgress, setInProgress] = useState(false);\r\n\r\n    const performAction = (action: () => Promise<void>): void => {\r\n        setInProgress(true);\r\n        action().finally(() => setInProgress(false));\r\n    }\r\n\r\n    return (\r\n        <div className=\"quick-edit\">\r\n            {inProgress && <div className=\"quick-edit__processing\">Processing...</div>}\r\n            {!inProgress && actions.map(({name, action}, idx) =>\r\n                <button className=\"quick-edit__button\" key={idx} onClick={() => performAction(action)}>{name}</button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QuickEdit;\r\n","import React from 'react';\r\n\r\nimport QuickEdit from '../../components/QuickEdit/QuickEdit';\r\nimport { getCardbox, addWords } from '../../services/cardboxService';\r\nimport highprob from '../../data/highprob.json';\r\nimport highprob9 from '../../data/highprob9.json';\r\nimport fiveVowels from '../../data/5vowels.json';\r\n\r\nconst NetworkedQuickEdit: React.FC = () => {\r\n\r\n    const actions = [\r\n        {name: 'Add to High Probability', action: addToHighProb},\r\n        {name: 'Add to High Probability Nines', action: addToHighProb9},\r\n        {name: 'Add to 5 Vowels', action: addTo5Vowels}\r\n    ];\r\n\r\n    return <QuickEdit actions={actions}></QuickEdit>\r\n}\r\n\r\nconst addToHighProb = () =>\r\n    getCardbox('High Probability').then(cardbox => {\r\n        const questionCount = cardbox.size;\r\n        const wordsToAdd = highprob.slice(questionCount, questionCount + 100).flatMap(ws => ws);\r\n        return addWords('High Probability', wordsToAdd);\r\n    })\r\n\r\nconst addToHighProb9 = () =>\r\n    getCardbox('High Probability Nines').then(cardbox => {\r\n        const questionCount = cardbox.size;\r\n        const wordsToAdd = highprob9.slice(questionCount, questionCount + 100).flatMap(ws => ws);\r\n        return addWords('High Probability Nines', wordsToAdd);\r\n    })\r\n\r\nconst addTo5Vowels = () =>\r\n    getCardbox('5 Vowels').then(cardbox => {\r\n        const questionCount = cardbox.size;\r\n        const wordsToAdd = fiveVowels.slice(questionCount, questionCount + 100).flatMap(ws => ws);\r\n        return addWords('5 Vowels', wordsToAdd);\r\n    })\r\n\r\nexport default NetworkedQuickEdit;\r\n","import React from 'react';\r\n\r\nimport NetworkedQuickEdit from '../../containers/NetworkedQuickEdit/NetworkedQuickEdit';\r\n\r\nconst QuickEditPage: React.FC = () => {\r\n    return (\r\n        <NetworkedQuickEdit></NetworkedQuickEdit>\r\n    );\r\n};\r\n\r\nexport default QuickEditPage;\r\n","import React, { useState } from 'react';\r\nimport './Login.css';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport interface LoginProps {\r\n    doLogin: (email: string, password: string) => Promise<any>;\r\n}\r\n\r\nconst Login: React.FC<LoginProps> = ({doLogin}) => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n    if (isLoggedIn) {\r\n        return <Redirect to=\"/\"></Redirect>\r\n    }\r\n\r\n    return <div className=\"login\">\r\n        <label className=\"login__label\">\r\n            Email\r\n            <input type=\"email\" className=\"login__input\" value={email} onChange={e => setEmail(e.target.value)}></input>\r\n        </label>\r\n        <label className=\"login__label\">\r\n            Password\r\n            <input type=\"password\" className=\"login__input\" value={password} onChange={e => setPassword(e.target.value)}></input>\r\n        </label>\r\n        <button className=\"login__submit\" onClick={() => doLogin(email, password).then(() => setIsLoggedIn(true))}>Submit</button>\r\n    </div>\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport Login from '../../components/Login/Login';\r\n\r\nimport { login } from '../../services/loginService';\r\n\r\nconst NetworkedLogin: React.FC = () => {\r\n    return <Login doLogin={login}></Login>\r\n}\r\n\r\nexport default NetworkedLogin;\r\n","import React from 'react';\r\nimport './LoginPage.css';\r\nimport NetworkedLogin from '../../containers/NetworkedLogin/NetworkedLogin';\r\n\r\nconst LoginPage: React.FC = () => {\r\n    return <div className=\"login-page\">\r\n        <NetworkedLogin></NetworkedLogin>\r\n    </div>\r\n}\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\nimport './App.css';\n\nimport { BrowserRouter as Router, Switch, Route, withRouter } from 'react-router-dom';\nimport { isLoggedIn } from '../services/loginService';\nimport Navbar from '../components/Navbar/Navbar';\nimport AscensionQuizPage from '../pages/AscensionQuizPage/AscensionQuizPage';\nimport CardboxListPage from '../pages/CardboxListPage/CardboxListPage';\nimport CardboxQuizPage from '../pages/CardboxQuizPage/CardboxQuizPage';\nimport EditCardboxPage from '../pages/EditCardboxPage/EditCardboxPage';\nimport CreateCardboxPage from '../pages/CreateCardboxPage/CreateCardboxPage';\nimport QuickEditPage from '../pages/QuickEditPage/QuickEditPage';\nimport LoginPage from '../pages/LoginPage/LoginPage';\n\nconst App: React.FC = () => {\n    return (\n        <Router>\n            <div className=\"app\">\n                <Routes></Routes>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n\nconst _Routes: React.FC = () => {\n\n    const loggedIn = isLoggedIn();\n\n    return (\n        <div className=\"app__container\">\n            <Navbar></Navbar>\n            <div className=\"app__content\">\n                {!loggedIn && <LoginPage></LoginPage>}\n                {loggedIn &&\n                    <Switch>\n                        <Route path=\"/learn/:cardbox\" component={CardboxQuizPage}></Route>\n                        <Route path=\"/edit/:cardbox\" component={EditCardboxPage}></Route>\n                        <Route path=\"/ascension\" component={AscensionQuizPage}></Route>\n                        <Route path=\"/create\" component={CreateCardboxPage}></Route>\n                        <Route path=\"/quick-edit\" component={QuickEditPage}></Route>\n                        <Route path=\"*\" component={CardboxListPage}></Route>\n                    </Switch>\n                }\n            </div>\n        </div>\n    );\n}\n\nconst Routes = withRouter(_Routes);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}